<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Command of the First 30 Seconds - Complete Cold Calling System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #2d3748;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 16px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.95;
        }

        .nav-tabs {
            display: flex;
            gap: 10px;
            background: white;
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 30px;
            overflow-x: auto;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .nav-tab {
            padding: 12px 24px;
            border: none;
            background: linear-gradient(135deg, #f5f7fa 0%, #e8eef5 100%);
            color: #4a5568;
            cursor: pointer;
            border-radius: 8px;
            font-size: 0.95em;
            font-weight: 600;
            white-space: nowrap;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .nav-tab:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }

        .nav-tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .content {
            background: white;
            border-radius: 16px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        .module {
            display: none;
        }

        .module.active {
            display: block;
        }

        .section h2 {
            color: #667eea;
            font-size: 1.8em;
            margin-bottom: 20px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .section h3 {
            color: #4a5568;
            font-size: 1.3em;
            margin: 30px 0 15px 0;
        }

        .section h4 {
            color: #2d3748;
            font-size: 1.1em;
            margin: 15px 0 8px 0;
        }

        .info-panel {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 25px;
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.3);
        }

        .info-panel h2 {
            color: white;
            border: none;
            margin-bottom: 10px;
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .card, .cp-card {
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            padding: 25px;
            border-radius: 12px;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
        }

        .card:hover, .cp-card:hover {
            transform: translateY(-5px);
            border-color: #667eea;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .card.selected, .cp-card.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #e8eef5 0%, #d6e0f0 100%);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.3);
        }

        .card h4, .cp-card h4 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .card p, .cp-card p {
            color: #4a5568;
            font-size: 0.95em;
        }

        .tip-box {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(72, 187, 120, 0.3);
        }

        .example-box {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            color: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(251, 191, 36, 0.3);
        }

        .warning-box {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(239, 68, 68, 0.3);
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 0.95em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px 5px 5px 0;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #cbd5e1 0%, #94a3b8 100%);
            color: #1e293b;
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(148, 163, 184, 0.4);
        }

        .btn-success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
        }

        textarea, input[type="text"], input[type="datetime-local"], select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 0.95em;
            font-family: inherit;
            background: white;
            color: #2d3748;
            margin: 8px 0;
            transition: all 0.3s ease;
        }

        textarea:focus, input:focus, select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        label {
            color: #4a5568;
            font-weight: 600;
            display: block;
            margin: 15px 0 5px 0;
            font-size: 0.95em;
        }

        .framework-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .step {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .step:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .step-number {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 15px;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .step h4 {
            color: #2d3748;
            margin: 10px 0;
        }

        .step p {
            color: #718096;
            font-size: 0.9em;
        }

        .script-output {
            background: #f7fafc;
            padding: 25px;
            border-radius: 12px;
            margin: 25px 0;
            border: 2px solid #e2e8f0;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }

        

        

        

        .quick-ref h3 {
            color: #667eea;
            margin-bottom: 20px;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }

        .cp-nav-tabs {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin: 25px 0;
        }

        .cp-nav-tab, .persona-btn {
            padding: 10px 20px;
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            color: #4a5568;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .cp-nav-tab:hover, .persona-btn:hover {
            transform: translateY(-2px);
            border-color: #667eea;
        }

        .cp-nav-tab.active, .persona-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .cp-section, .cp-module {
            display: none;
        }

        .cp-module.active {
            display: block;
        }

        .counter {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            font-size: 1.2em;
            font-weight: bold;
            text-align: center;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .question-item {
            padding: 12px;
            margin: 8px 0;
            background: #f7fafc;
            border-left: 4px solid #667eea;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .question-item:hover {
            background: #e8eef5;
            transform: translateX(5px);
        }

        ul {
            padding-left: 25px;
        }

        li {
            margin: 10px 0;
            color: #4a5568;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .content {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ Command of the First 30 Seconds</h1>
            <p>Complete Cold Calling System with Tracking, Coaching & Integration</p>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showModule('quick-start')">üöÄ Quick Start</button>
            <button class="nav-tab" onclick="showModule('getting-started')">üìö Getting Started</button>
            <button class="nav-tab" onclick="showModule('why-this-matters')">üéì Why This Matters</button>
            <button class="nav-tab" onclick="showModule('call-builder')">üìû Sandler Sales</button>
            <button class="nav-tab" onclick="showModule('script-builder')">üìù Permission Opener</button>
            <button class="nav-tab" onclick="showModule('spin')">üéØ SPIN Navigator</button>
            <button class="nav-tab" onclick="showModule('objections')">üõ°Ô∏è Objection Simulator</button>
            <button class="nav-tab" onclick="showModule('pre-call')">üìã Pre-Call Planner</button>
            <button class="nav-tab" onclick="showModule('manager-coaching')">üëî Manager Coaching</button>
            <button class="nav-tab" onclick="showModule('crm-integration')">üîó CRM Integration</button>
        </div>

        <div class="content">
            
            <!-- MODULE 1: QUICK START - CALL NOW -->
            <div id="quick-start" class="module active">
                <div class="section">
                    <h2>üöÄ Quick Start - Ready to Call RIGHT NOW</h2>
                    
                    <div class="info-panel">
                        <h3>Get Your Script in 30 Seconds</h3>
                        <p>Select your target persona below. We'll instantly generate your opening script, key questions, and objection responses. Copy it. Call them. Win deals.</p>
                    </div>

                    <h3>Step 1: Who Are You Calling?</h3>
                    <div style="display: flex; gap: 15px; align-items: flex-start; flex-wrap: wrap;">
                        <div style="flex: 1; min-width: 300px;">
                            <select id="quick-persona" onchange="generateQuickScript()" style="font-size: 1.1em; padding: 15px; width: 100%;">
                                <option value="">üëâ Select Your Target Persona...</option>
                                <option value="cfo">üí∞ CFO / Finance Leader - Budget & ROI focused</option>
                                <option value="cto">üîß CTO / VP Engineering - Technical & scaling challenges</option>
                                <option value="vp-sales">üìà VP Sales / CRO - Revenue & pipeline problems</option>
                                <option value="ceo">üéØ CEO / Founder - Growth & strategic priorities</option>
                                <option value="ops">‚öôÔ∏è COO / VP Operations - Process & efficiency issues</option>
                                <optgroup id="custom-personas-group" label="üìù Your Custom Personas" style="display: none;"></optgroup>
                            </select>
                        </div>
                        <button class="btn btn-secondary" onclick="showAddPersonaModal()" style="padding: 15px 20px; white-space: nowrap;">‚ûï Add New Persona</button>
                    </div>

                    <!-- Add Persona Modal -->
                    <div id="add-persona-modal" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 1000; padding: 20px; overflow-y: auto;">
                        <div style="background: white; max-width: 600px; margin: 50px auto; padding: 30px; border-radius: 12px; box-shadow: 0 20px 60px rgba(0,0,0,0.3);">
                            <h3 style="color: #667eea; margin-bottom: 20px;">‚ûï Create Custom Persona</h3>
                            
                            <label style="display: block; margin-bottom: 5px; font-weight: bold;">Persona Name:</label>
                            <input type="text" id="new-persona-name" placeholder="e.g., VP Marketing, CISO, Head of Product" style="width: 100%; padding: 12px; margin-bottom: 15px; border: 2px solid #cbd5e1; border-radius: 8px;">
                            
                            <label style="display: block; margin-bottom: 5px; font-weight: bold;">Brief Description:</label>
                            <input type="text" id="new-persona-desc" placeholder="e.g., Brand awareness & demand gen focus" style="width: 100%; padding: 12px; margin-bottom: 15px; border: 2px solid #cbd5e1; border-radius: 8px;">
                            
                            <label style="display: block; margin-bottom: 5px; font-weight: bold;">3 Key Pain Points (one per line):</label>
                            <textarea id="new-persona-pains" rows="4" placeholder="1. First pain point&#10;2. Second pain point&#10;3. Third pain point" style="width: 100%; padding: 12px; margin-bottom: 20px; border: 2px solid #cbd5e1; border-radius: 8px; font-family: inherit;"></textarea>
                            
                            <div style="display: flex; gap: 10px; justify-content: flex-end;">
                                <button class="btn btn-secondary" onclick="closeAddPersonaModal()">Cancel</button>
                                <button class="btn btn-primary" onclick="saveCustomPersona()">üíæ Save Persona</button>
                            </div>
                        </div>
                    </div>

                    <div id="quick-output" style="display: none; margin-top: 30px;">
                        <div style="text-align: right; margin-bottom: 15px;">
                            <button class="btn btn-success" onclick="copyQuickScript()">üìã Copy Everything</button>
                            <button class="btn btn-primary" onclick="printCallSheet()">üñ®Ô∏è Print Call Sheet</button>
                        </div>

                        <div class="script-output" id="quick-script-display" style="background: white; border: 2px solid #667eea; padding: 25px; border-radius: 8px; font-size: 1.05em; line-height: 1.8;">
                            <!-- Script content will be inserted here by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- MODULE 8: GETTING STARTED / ONBOARDING PATH -->
            <div id="getting-started" class="module">
                <div class="section">
                    <h2>üöÄ Getting Started - Your 4-Week Ramp Plan</h2>
                    <p style="font-size: 1.1em; margin-bottom: 30px;">
                        New to this framework? Follow this progressive path to build confidence and competence.
                        <strong>Master one week before moving to the next.</strong>
                    </p>

                    <div class="framework-steps">
                        <div class="step">
                            <div class="step-number" style="background: #48bb78;">Week 1</div>
                            <h4>Foundation</h4>
                            <p>Psychology & Opening</p>
                        </div>
                        <div class="step">
                            <div class="step-number" style="background: #48bb78;">Week 2</div>
                            <h4>Discovery</h4>
                            <p>SPIN Questioning</p>
                        </div>
                        <div class="step">
                            <div class="step-number" style="background: #48bb78;">Week 3</div>
                            <h4>Objections</h4>
                            <p>Handle Resistance</p>
                        </div>
                        <div class="step">
                            <div class="step-number" style="background: #48bb78;">Week 4</div>
                            <h4>Qualification</h4>
                            <p>MEDDICC & Tracking</p>
                        </div>
                    </div>

                    <h3>üìÖ Week 1: Foundation & Psychology</h3>
                    <div class="card">
                        <h4>What to Master:</h4>
                        <p style="line-height: 1.8;">
                            ‚úÖ Complete "Why This Matters" module - understand buyer psychology<br>
                            ‚úÖ Choose and memorize ONE pattern interrupt<br>
                            ‚úÖ Build your upfront contract in the Call Opening Builder<br>
                            ‚úÖ Make 20 practice calls using only your interrupt + contract<br>
                            ‚úÖ <strong>Goal:</strong> 50%+ connect rate, comfortable with opening
                        </p>
                    </div>
                    <div class="example-box">
                        <strong>üéØ Week 1 Success Looks Like:</strong>
                        <p>You can confidently deliver your opening without reading. Prospects don't immediately hang up. You're getting "Tell me more" responses.</p>
                    </div>

                    <h3>üìÖ Week 2: Discovery Mastery</h3>
                    <div class="card">
                        <h4>What to Master:</h4>
                        <p style="line-height: 1.8;">
                            ‚úÖ Study SPIN Navigator for your primary persona<br>
                            ‚úÖ Memorize 3 Situation, 3 Problem, 2 Implication questions<br>
                            ‚úÖ Practice SPIN flow on 30 calls<br>
                            ‚úÖ Use Pre-Call Planner to prepare questions in advance<br>
                            ‚úÖ <strong>Goal:</strong> Uncover pain in 60%+ of conversations
                        </p>
                    </div>
                    <div class="tip-box">
                        <strong>üí° Pro Tip:</strong>
                        <p>Don't move to Week 3 until you can naturally ask SPIN questions without thinking. They should flow conversationally, not sound scripted.</p>
                    </div>

                    <h3>üìÖ Week 3: Objection Handling</h3>
                    <div class="card">
                        <h4>What to Master:</h4>
                        <p style="line-height: 1.8;">
                            ‚úÖ Practice the 5-step objection framework on every objection<br>
                            ‚úÖ Use Objection Simulator to rehearse top 5 objections<br>
                            ‚úÖ Record yourself handling objections and self-critique<br>
                            ‚úÖ <strong>Goal:</strong> Turn 30%+ of objections into meetings
                        </p>
                    </div>

                    <h3>üìÖ Week 4: Qualification & Call Tracking</h3>
                    <div class="card">
                        <h4>What to Master:</h4>
                        <p style="line-height: 1.8;">
                            ‚úÖ Focus on qualification questions: Budget, Authority, Need, Timeline<br>
                            ‚úÖ Track your calls and outcomes manually or in your CRM<br>
                            ‚úÖ Review your numbers weekly: connects, meetings, no-shows<br>
                            ‚úÖ <strong>Goal:</strong> 70%+ qualification accuracy through discovery questions
                        </p>
                    </div>

                    <div class="warning-box">
                        <strong>‚ö†Ô∏è Common Mistake:</strong>
                        <p>Trying to use all modules at once. Master one thing at a time. Quality over quantity in your first month.</p>
                    </div>

                    <button class="btn btn-primary" onclick="showModule('why-this-matters'); document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active')); document.querySelector('.nav-tab:nth-child(1)').classList.add('active');" style="font-size: 1.2em; padding: 15px 40px; margin-top: 20px;">
                        Start Week 1: Why This Matters ‚Üí
                    </button>
                </div>
            </div>

            <!-- MODULE 11: MANAGER COACHING DASHBOARD -->
            <div id="manager-coaching" class="module">
                <div class="section">
                    <h2>üëî Manager's Coaching Dashboard</h2>
                    <p><strong>For Sales Managers:</strong> Use this module to review team performance, provide structured feedback, and drive adoption.</p>

                    <div class="warning-box">
                        <strong>‚ö†Ô∏è Coaching Philosophy:</strong>
                        <p>This tool is only effective if managers actively coach. Review calls weekly, give specific feedback using framework language, and celebrate wins publicly.</p>
                    </div>

                    <h3>Team Adoption Tracker</h3>
                    <div class="card">
                        <h4>Check Framework Usage Across Team</h4>
                        <p>Track which reps are using the tool and which modules they're engaging with most.</p>
                        <button class="btn btn-secondary" onclick="viewTeamAdoption()">üìä View Team Adoption Report</button>
                    </div>

                    <h3>Weekly Coaching Checklist</h3>
                    <div class="card">
                        <p style="line-height: 1.8;">
                            <label><input type="checkbox"> Reviewed 2+ calls per rep using framework elements</label><br>
                            <label><input type="checkbox"> Gave specific feedback on pattern interrupt usage</label><br>
                            <label><input type="checkbox"> Reviewed SPIN question quality in discovery calls</label><br>
                            <label><input type="checkbox"> Analyzed objection handling across team</label><br>
                            <label><input type="checkbox"> Compared team metrics: connect rate, meeting rate, qualification accuracy</label><br>
                            <label><input type="checkbox"> Shared 1 win story in team meeting</label><br>
                            <label><input type="checkbox"> Identified 1 improvement area for each rep</label>
                        </p>
                    </div>

                    <h3>Coaching Feedback Template</h3>
                    <div class="card">
                        <label>Rep Name</label>
                        <input type="text" id="coach-rep-name" placeholder="Rep name">
                        
                        <label>Call Reviewed (Date/Prospect)</label>
                        <input type="text" id="coach-call-ref" placeholder="e.g., 1/15/2024 - Acme Corp call">
                        
                        <label>‚úÖ What They Did Well</label>
                        <textarea id="coach-wins" rows="3" placeholder="Specific framework elements they executed well..."></textarea>
                        
                        <label>üìà Area to Improve</label>
                        <textarea id="coach-improve" rows="3" placeholder="One specific thing to focus on next week..."></textarea>
                        
                        <label>üéØ Action Items</label>
                        <textarea id="coach-actions" rows="2" placeholder="e.g., Practice SPIN questions on next 10 calls"></textarea>
                        
                        <button class="btn btn-primary" onclick="saveCoachingNote()">üíæ Save Coaching Note</button>
                        <button class="btn btn-secondary" onclick="emailCoachingNote()">üìß Email to Rep</button>
                    </div>

                    <h3>Team Performance Dashboard</h3>
                    <div class="card-grid" id="manager-team-stats">
                        <div class="card">
                            <h4>Team Average Connect Rate</h4>
                            <p style="font-size: 2em; color: #48bb78;">--</p>
                        </div>
                        <div class="card">
                            <h4>Team Average Meeting Rate</h4>
                            <p style="font-size: 2em; color: #667eea;">--</p>
                        </div>
                        <div class="card">
                            <h4>Top Performer This Week</h4>
                            <p style="font-size: 1.5em; color: #fbbf24;">--</p>
                        </div>
                        <div class="card">
                            <h4>Framework Adoption %</h4>
                            <p style="font-size: 2em; color: #63b3ed;">--</p>
                        </div>
                    </div>

                    <h3>Call Recording Review Framework</h3>
                    <div class="card">
                        <h4>When Listening to Calls, Score Each Element:</h4>
                        <p style="line-height: 1.8;">
                            <strong>Pattern Interrupt:</strong> ‚ùå None | ‚ö†Ô∏è Attempted | ‚úÖ Executed Well<br>
                            <strong>Upfront Contract:</strong> ‚ùå None | ‚ö†Ô∏è Partial | ‚úÖ Complete<br>
                            <strong>SPIN Questions:</strong> ‚ùå None | ‚ö†Ô∏è 1-2 types | ‚úÖ Full SPIN flow<br>
                            <strong>Active Listening:</strong> ‚ùå Talked over | ‚ö†Ô∏è OK | ‚úÖ Excellent pauses<br>
                            <strong>Objection Handling:</strong> ‚ùå Defensive | ‚ö†Ô∏è OK | ‚úÖ 5-step process<br>
                            <strong>Qualification:</strong> ‚ùå No questions | ‚ö†Ô∏è Basic | ‚úÖ MEDDICC elements
                        </p>
                    </div>

                    <div class="tip-box">
                        <strong>üí° Best Practice:</strong>
                        <p>Review one "great" call and one "needs improvement" call in every team meeting. Use framework language to explain what made each effective or ineffective.</p>
                    </div>
                </div>
            </div>

            <!-- MODULE 13: CRM INTEGRATION GUIDE -->
            <div id="crm-integration" class="module">
                <div class="section">
                    <h2>üîó CRM & Tech Stack Integration Guide</h2>
                    <p>How to use this framework with your daily tools: Salesforce, HubSpot, Outreach, SalesLoft, Gong, Chorus.</p>

                    <h3>Salesforce Integration</h3>
                    <div class="card">
                        <h4>Logging Calls in Salesforce</h4>
                        <p style="line-height: 1.8;">
                            After using this tool, log your call in Salesforce:<br><br>
                            <strong>1. Activity Type:</strong> "Cold Call"<br>
                            <strong>2. Subject:</strong> Use format: "[Pattern Interrupt Used] - [Outcome]"<br>
                            Example: "Bad Time Interrupt - Meeting Booked"<br><br>
                            <strong>3. Custom Fields to Track:</strong><br>
                            ‚Ä¢ Pattern Interrupt Used (picklist)<br>
                            ‚Ä¢ Frameworks Applied (multi-select: Upfront Contract, SPIN, Objection Handled)<br>
                            ‚Ä¢ Primary Objection (if any)<br>
                            ‚Ä¢ Next Step Agreed (text)<br><br>
                            <strong>4. Notes Section:</strong><br>
                            Copy your SPIN questions and prospect responses<br>
                            Note which MEDDICC elements you confirmed
                        </p>
                    </div>

                    <div class="example-box">
                        <strong>üìù Sample Salesforce Call Note:</strong>
                        <div style="margin-top: 10px; background: rgba(15,23,42,0.6); padding: 15px; border-radius: 8px; font-family: monospace;">
                            <p><strong>Subject:</strong> Honest Time Thief - Meeting Booked</p>
                            <p><strong>Pattern Interrupt:</strong> Honest Time Thief</p>
                            <p><strong>Frameworks Used:</strong> Upfront Contract, SPIN Questions</p>
                            <p><strong>Notes:</strong></p>
                            <p>Used "8 seconds" interrupt - created space for conversation.</p>
                            <p>Discovered: Manual board reporting process taking 3 days/month</p>
                            <p>Pain: CFO needs real-time visibility for Series C readiness</p>
                            <p>MEDDICC Status: Pain identified ‚úÖ, No economic buyer yet ‚ùå</p>
                            <p><strong>Next Steps:</strong> Discovery call Tues 1/23 at 2pm. Will map buying committee.</p>
                        </div>
                    </div>

                    <h3>Outreach/SalesLoft Integration</h3>
                    <div class="card">
                        <h4>Templating Your Scripts</h4>
                        <p style="line-height: 1.8;">
                            Save your call scripts from this tool as "Call Tasks" in Outreach:<br><br>
                            <strong>Sequence Step 3: Cold Call</strong><br>
                            Task Type: Call<br>
                            Script Template: [Paste your generated script from Permission Opener]<br><br>
                            Create variants for:<br>
                            ‚Ä¢ First call attempt<br>
                            ‚Ä¢ Second call attempt (different interrupt)<br>
                            ‚Ä¢ Post-voicemail follow-up call
                        </p>
                    </div>

                    <h3>Gong/Chorus Integration</h3>
                    <div class="card">
                        <h4>Call Review with AI</h4>
                        <p style="line-height: 1.8;">
                            Use Gong/Chorus trackers to measure framework adoption:<br><br>
                            <strong>Set Up Trackers For:</strong><br>
                            ‚Ä¢ Pattern interrupt phrases ("bad time", "8 seconds", etc.)<br>
                            ‚Ä¢ Upfront contract keywords ("purpose", "agenda", "12 seconds")<br>
                            ‚Ä¢ SPIN question stems ("how do you currently", "what challenges")<br>
                            ‚Ä¢ Objection framework ("I hear you", "that makes sense")<br>
                            ‚Ä¢ MEDDICC questions ("who has budget", "what's your process")<br><br>
                            <strong>Manager Review:</strong><br>
                            Filter calls by tracker hit rate to find best/worst examples
                        </p>
                    </div>

                    <h3>üìä Recommended Dashboard Setup</h3>
                    <div class="card">
                        <h4>Create This Report in Your CRM:</h4>
                        <p style="line-height: 1.8;">
                            <strong>Report Name:</strong> "Cold Call Framework Performance"<br><br>
                            <strong>Metrics to Track:</strong><br>
                            ‚Ä¢ Total calls logged with "Cold Call" activity type<br>
                            ‚Ä¢ % with Pattern Interrupt field populated<br>
                            ‚Ä¢ % with Framework Applied field populated<br>
                            ‚Ä¢ Connect rate (calls ‚Üí conversations)<br>
                            ‚Ä¢ Meeting rate (conversations ‚Üí meetings booked)<br>
                            ‚Ä¢ Show rate (meetings booked ‚Üí meetings held)<br>
                            ‚Ä¢ Pipeline generated from cold calls<br><br>
                            <strong>Filters:</strong><br>
                            ‚Ä¢ By rep<br>
                            ‚Ä¢ By pattern interrupt type<br>
                            ‚Ä¢ By persona/industry<br>
                            ‚Ä¢ Date range
                        </p>
                    </div>

                    <div class="tip-box">
                        <strong>üí° Pro Tip: Weekly Export</strong>
                        <p>Export your call log data from this tool weekly and upload to your CRM. This ensures your data is always synced and managers can run reports.</p>
                        <button class="btn btn-secondary" onclick="exportForCRM()">üì§ Export for CRM Upload</button>
                    </div>
                </div>
            </div>

            <!-- MODULE 0: WHY THIS MATTERS - NEW BUYING AGE CONTEXT -->
            <div id="why-this-matters" class="module">
                <div class="section">
                    <h2>The New Buying Age: Why Traditional Prospecting No Longer Works</h2>
                    <p style="font-size: 1.1em; color: #495057; margin-bottom: 30px;">
                        Before diving into techniques, you need to understand the <strong>fundamental shift</strong> in how buyers make decisions today. 
                        Based on Brent Adamson's research, we're in a "New Buying Age" characterized by three critical challenges:
                    </p>

                    <div class="framework-steps">
                        <div class="step">
                            <div class="step-number" style="background: #dc3545;">1</div>
                            <h4>Decision Complexity</h4>
                            <p>More stakeholders, longer cycles</p>
                        </div>
                        <div class="step">
                            <div class="step-number" style="background: #dc3545;">2</div>
                            <h4>Information Overload</h4>
                            <p>Too much data, too little clarity</p>
                        </div>
                        <div class="step">
                            <div class="step-number" style="background: #dc3545;">3</div>
                            <h4>Value Opacity</h4>
                            <p>Can't see ROI clearly</p>
                        </div>
                    </div>

                    <h3>üéØ Challenge #1: Decision Complexity</h3>
                    <div class="card">
                        <h4>The Reality:</h4>
                        <p style="line-height: 1.8;">
                            ‚Ä¢ <strong>6.8 stakeholders</strong> are now involved in the average B2B purchase decision<br>
                            ‚Ä¢ <strong>83% of buying decisions</strong> are made before a prospect ever talks to sales<br>
                            ‚Ä¢ <strong>Consensus required</strong> across multiple departments, each with different priorities<br>
                            ‚Ä¢ <strong>Sales cycles have lengthened</strong> by 22% in the past 5 years
                        </p>
                    </div>

                    <div class="example-box" style="background: #fff; border: none; padding: 0; margin: 30px 0;">
                        <div style="text-align: center; margin-bottom: 15px;">
                            <h4 style="color: #667eea; margin-bottom: 10px;">The "Spaghetti Bowl" of B2B Buying</h4>
                            <p style="color: #6c757d; margin-bottom: 20px;">This is what your prospects are navigating. No wonder they need help!</p>
                        </div>
                        <div style="padding: 30px; background: #e3f2fd; border-radius: 12px; text-align: center; border: 2px solid #2196f3;">
                            <strong>üìä The "Spaghetti Bowl" of B2B Buying</strong>
                            <p style="margin-top: 10px;">Imagine a complex flowchart showing the chaotic, non-linear journey buyers take: <strong>Problem Identification ‚Üí Solution Exploration ‚Üí Requirements Building ‚Üí Supplier Selection</strong></p>
                            <p style="margin-top: 10px;">With countless loops, stakeholder touchpoints, and decision nodes, it creates a tangled "spaghetti bowl" of complexity.</p>
                            <p style="margin-top: 15px; color: #1976d2; font-weight: bold;">Your prospects are lost in this maze. Your job: Be their guide.</p>
                        </div>
                        <p style="text-align: center; margin-top: 15px; color: #6c757d; font-size: 0.9em; font-style: italic;">
                            Source: Brent Adamson - From Problem Identification to Purchase, buyers navigate a chaotic, non-linear journey with countless touchpoints, stakeholders, and decision nodes.
                        </p>
                    </div>

                    <div class="tip-box">
                        <strong>üí° What This Diagram Shows:</strong>
                        <p style="margin-top: 10px; line-height: 1.8;">
                            Look at all those paths, loops, and decision points! Buyers are:
                            <br><br>
                            ‚Ä¢ <strong>Looping back</strong> repeatedly through Problem Identification ‚Üí Solution Exploration ‚Üí Requirements Building ‚Üí Supplier Selection<br>
                            ‚Ä¢ <strong>Getting overwhelmed</strong> at every stage with information overload<br>
                            ‚Ä¢ <strong>Dealing with disagreements</strong> within their buying group<br>
                            ‚Ä¢ <strong>Struggling with misalignment</strong> on problems, solutions, and requirements<br>
                            ‚Ä¢ <strong>Facing executive questions</strong>, budget cuts, legal flags, procurement hurdles, and more
                            <br><br>
                            This is why your prospects say "send me some information" or "call me back in 6 months" - they're lost in the spaghetti bowl!
                        </p>
                    </div>

                    <div class="warning-box">
                        <strong>‚ö†Ô∏è What This Means for Your Prospecting:</strong>
                        <p style="margin-top: 10px; line-height: 1.8;">
                            You're not just selling to one person anymore. You need to:
                            <br><br>
                            ‚úì <strong>Identify the buying committee early</strong> - Who else is in the spaghetti bowl?<br>
                            ‚úì <strong>Understand each stakeholder's concerns</strong> - Different nodes = different pain points<br>
                            ‚úì <strong>Help them build consensus</strong> - Your job is to simplify, not add complexity<br>
                            ‚úì <strong>Acknowledge the messy journey</strong> - Your cold call must show you understand their reality
                            <br><br>
                            <strong>This is why upfront contracts  qualification matter</strong> - you need to map the complexity early, not discover it after weeks of wasted effort.
                        </p>
                    </div>

                    <h3>üìä Challenge #2: Information Overload</h3>
                    <div class="card">
                        <h4>The Reality:</h4>
                        <p style="line-height: 1.8;">
                            ‚Ä¢ Buyers have access to <strong>unlimited information</strong> online before you ever connect<br>
                            ‚Ä¢ <strong>57% of the buyer journey</strong> is complete before engaging with sales<br>
                            ‚Ä¢ Average buyer consumes <strong>13+ pieces of content</strong> before purchasing<br>
                            ‚Ä¢ <strong>Paradox of choice:</strong> More information = more confusion, not clarity<br>
                            ‚Ä¢ Buyers report feeling <strong>overwhelmed and paralyzed</strong> by too many options
                        </p>
                    </div>

                    <div class="warning-box">
                        <strong>‚ö†Ô∏è What This Means for You:</strong>
                        <p style="margin-top: 10px;">
                            Your prospects are drowning in information. They don't need MORE data from you - they need 
                            <strong>clarity and guidance</strong>. Your cold call must cut through noise by being specific, 
                            relevant, and focused on their unique challenges. Generic pitches add to the noise. 
                            Specific, insight-driven conversations create value.
                        </p>
                    </div>

                    <h3>üí∞ Challenge #3: Value Opacity</h3>
                    <div class="card">
                        <h4>The Reality:</h4>
                        <p style="line-height: 1.8;">
                            ‚Ä¢ <strong>40-60%</strong> of qualified pipeline ends in "no decision"<br>
                            ‚Ä¢ Buyers struggle to quantify <strong>ROI and business value</strong> of solutions<br>
                            ‚Ä¢ <strong>Status quo bias</strong> is stronger than ever - "cost of doing nothing" is invisible<br>
                            ‚Ä¢ Multiple competing priorities make it hard to justify <strong>budget allocation</strong><br>
                            ‚Ä¢ Buyers fear making the <strong>wrong decision</strong> more than missing an opportunity
                        </p>
                    </div>

                    <div class="warning-box">
                        <strong>‚ö†Ô∏è What This Means for You:</strong>
                        <p style="margin-top: 10px;">
                            Your biggest competitor isn't another vendor - it's <strong>inaction</strong>. Buyers can't see 
                            the cost of their current problems clearly enough to justify change. Your cold call must uncover 
                            hidden costs and make the status quo uncomfortable. This is why SPIN questioning (especially 
                            Implication questions) is so critical.
                        </p>
                    </div>

                    <h3>üéØ The Solution: Command the First 30 Seconds</h3>
                    <div class="section" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none;">
                        <h3 style="color: white;">Why This Framework Works in the New Buying Age:</h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                            <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px;">
                                <h4 style="color: white;">‚úÖ Cuts Through Complexity</h4>
                                <p>Pattern interrupts and upfront contracts establish control and reduce confusion immediately</p>
                            </div>
                            <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px;">
                                <h4 style="color: white;">‚úÖ Reduces Overload</h4>
                                <p>SPIN methodology guides buyers to clarity through questions, not more information dumps</p>
                            </div>
                            <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px;">
                                <h4 style="color: white;">‚úÖ Creates Value Clarity</h4>
                                <p>Implication questions reveal hidden costs and make the cost of inaction visible and urgent</p>
                            </div>
                        </div>
                    </div>

                    <h3>üìà The Data: Why Hope is NOT a Strategy</h3>
                    <div class="card-grid">
                        <div class="card">
                            <h4 style="color: #dc3545;">Without Structure:</h4>
                            <p>‚Ä¢ <strong>2-3% connect rate</strong> on cold calls<br>
                            ‚Ä¢ <strong>90% rejection</strong> in first 10 seconds<br>
                            ‚Ä¢ <strong>Average SDR fear</strong> of calling<br>
                            ‚Ä¢ <strong>Inconsistent messaging</strong> across team</p>
                        </div>
                        <div class="card">
                            <h4 style="color: #28a745;">With This Framework:</h4>
                            <p>‚Ä¢ <strong>5-8% connect-to-meeting</strong> conversion<br>
                            ‚Ä¢ <strong>Control</strong> the conversation flow<br>
                            ‚Ä¢ <strong>Remove call anxiety</strong> with structure<br>
                            ‚Ä¢ <strong>Repeatable, coachable</strong> process</p>
                        </div>
                    </div>

                    <div class="tip-box">
                        <strong>üí° Remember: Today's buyers need you to be different</strong>
                        <p style="margin-top: 10px; line-height: 1.8;">
                            <strong>61% of sellers</strong> say they always put the buyer first, but only <strong>29% of buyers agree</strong>. 
                            This disconnect happens because sellers still use old techniques designed for a different buying era.
                            <br><br>
                            The frameworks in this tool are specifically designed to address Decision Complexity, Information Overload, 
                            and Value Opacity. Each technique serves a purpose in helping buyers navigate their journey more effectively.
                        </p>
                    </div>

                    <h3>üöÄ How to Use This Tool</h3>
                    <div class="card-grid">
                        <div class="card">
                            <h4>1. Build Your Opening</h4>
                            <p>Use Sandler Sales or Permission Opener to create structured, repeatable approaches that break through noise</p>
                        </div>
                        <div class="card">
                            <h4>2. Master SPIN</h4>
                            <p>Learn to ask questions that guide buyers from confusion to clarity, making value visible</p>
                        </div>
                        <div class="card">
                            <h4>3. Handle Objections</h4>
                            <p>Practice responses that acknowledge complexity and build trust instead of adding pressure</p>
                        </div>
                        <div class="card">
                            <h4>4. Plan & Qualify</h4>
                            <p>Use Pre-Call Planning  to understand the full buying committee and decision process</p>
                        </div>
                    </div>

                    <div class="example-box">
                        <strong>üéØ Your Mission:</strong>
                        <p style="margin-top: 10px; font-size: 1.1em;">
                            Don't just make calls. <strong>Help buyers navigate complexity, cut through information overload, 
                            and see the value of change clearly.</strong> That's what great prospecting looks like in the New Buying Age.
                        </p>
                    </div>

                    <button class="btn btn-primary" onclick="showModule('call-builder'); document.querySelector('.nav-tab:nth-child(2)').classList.add('active'); document.querySelector('.nav-tab:nth-child(1)').classList.remove('active');" style="font-size: 1.2em; padding: 15px 40px; margin-top: 20px;">
                        Let's Get Started ‚Üí
                    </button>
                </div>
            </div>

            <!-- MODULE 1: SANDLER SALES -->
            <div id="call-builder" class="module">
                <div class="section">
                    <h2>Sandler Sales - Build Your Perfect Call Opening</h2>
                    
                    <div class="info-panel">
                        <h3>What is Sandler Sales Methodology?</h3>
                        <p>Sandler Selling is a consultative approach that flips traditional sales on its head. Instead of pitching and persuading, you qualify prospects early and position yourself as an equal partner in the buying process.</p>
                    </div>

                    <h3>üéØ Core Sandler Principles for Cold Calling</h3>
                    
                    <div style="text-align: center; margin: 30px 0; padding: 20px; background: white; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                        <svg width="100%" height="200" viewBox="0 0 1000 200" xmlns="http://www.w3.org/2000/svg" style="max-width: 1000px;">
                          <!-- Background arrow -->
                          <defs>
                            <linearGradient id="arrowGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                              <stop offset="0%" style="stop-color:#e0f2fe;stop-opacity:1" />
                              <stop offset="100%" style="stop-color:#bae6fd;stop-opacity:1" />
                            </linearGradient>
                          </defs>
                          
                          <!-- Large arrow shape -->
                          <path d="M 50 50 L 750 50 L 750 30 L 950 100 L 750 170 L 750 150 L 50 150 Z" 
                                fill="url(#arrowGradient)" 
                                stroke="#7dd3fc" 
                                stroke-width="2"/>
                          
                          <!-- Box 1: Pattern Interrupt (Blue) -->
                          <rect x="80" y="70" width="160" height="60" rx="12" fill="#0891b2" stroke="#0e7490" stroke-width="2"/>
                          <text x="160" y="95" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Pattern</text>
                          <text x="160" y="115" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Interrupt</text>
                          
                          <!-- Box 2: Check Assumptions (Green) -->
                          <rect x="280" y="70" width="160" height="60" rx="12" fill="#10b981" stroke="#059669" stroke-width="2"/>
                          <text x="360" y="95" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Check</text>
                          <text x="360" y="115" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Assumptions</text>
                          
                          <!-- Box 3: Purpose & Outcomes (Lime) -->
                          <rect x="480" y="70" width="160" height="60" rx="12" fill="#84cc16" stroke="#65a30d" stroke-width="2"/>
                          <text x="560" y="95" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Purpose &</text>
                          <text x="560" y="115" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Outcomes</text>
                          
                          <!-- Box 4: Time (Orange) -->
                          <rect x="680" y="70" width="160" height="60" rx="12" fill="#f97316" stroke="#ea580c" stroke-width="2"/>
                          <text x="760" y="100" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">Time</text>
                        </svg>
                        <p style="margin-top: 15px; color: #4a5568; font-style: italic; font-size: 0.95em;">The Sandler Up-Front Contract: Four critical elements that flow together to set expectations and prevent objections</p>
                    </div>

                    <div class="card-grid">
                        <div class="card">
                            <h4>1. Pattern Interrupt</h4>
                            <p><strong>Purpose:</strong> Break their auto-pilot response<br>
                            <strong>Example:</strong> "Did I catch you at a bad time?" or "This is a cold call..."<br>
                            <em>Creates curiosity and honesty from the first second</em></p>
                        </div>
                        <div class="card">
                            <h4>2. Check Assumptions</h4>
                            <p><strong>Purpose:</strong> Qualify before you pitch<br>
                            <strong>Example:</strong> "I don't even know if this is relevant to you..."<br>
                            <em>Shows you're not trying to sell everyone everything</em></p>
                        </div>
                        <div class="card">
                            <h4>3. Purpose & Outcomes</h4>
                            <p><strong>Purpose:</strong> Tell them exactly why you're calling<br>
                            <strong>Example:</strong> "I work with [personas] who struggle with [pain points]..."<br>
                            <em>Sets the agenda so they know what to expect</em></p>
                        </div>
                        <div class="card">
                            <h4>4. Time</h4>
                            <p><strong>Purpose:</strong> Respect their schedule and give them control<br>
                            <strong>Example:</strong> "Can I take 12 seconds? Then you decide if we continue."<br>
                            <em>Reduces pressure and makes them feel safe</em></p>
                        </div>
                    </div>

                    <div class="tip-box">
                        <h4>‚úÖ Full Sandler Opening Example:</h4>
                        <p><strong>[Pattern Interrupt]</strong> "Hi Sarah, this is Mike from [Company]. Did I catch you at a bad time?"</p>
                        <p><em>[Wait for response - they usually say "no" or "what's this about?"]</em></p>
                        <br>
                        <p><strong>[Check Assumptions + Purpose]</strong> "Look, I don't even know if this is relevant to you, but I work with CFOs at Series B companies who are frustrated with spreadsheet-based financial planning."</p>
                        <br>
                        <p><strong>[Time + Outcomes]</strong> "Can I take 12 seconds to explain why I thought it was worth reaching out, and then you can tell me if we should even continue this conversation?"</p>
                        <br>
                        <p><em>Result: You've used all 4 elements. The prospect relaxes because there's no pressure, and they're actually listening.</em></p>
                    </div>

                    <h3>üõ°Ô∏è Why Each Element Matters</h3>
                    <div class="card-grid">
                        <div class="card">
                            <h4>1. No Pressure = More Trust</h4>
                            <p><strong>Traditional:</strong> Push for the sale immediately<br>
                            <strong>Sandler:</strong> Make it safe to say "no" - removes pressure and builds trust</p>
                        </div>
                        <div class="card">
                            <h4>2. Reverse the Psychology</h4>
                            <p><strong>Traditional:</strong> Chase the prospect<br>
                            <strong>Sandler:</strong> Qualify them first - "Is this even a fit?" mindset</p>
                        </div>
                        <div class="card">
                            <h4>3. Up-Front Contracts</h4>
                            <p><strong>Traditional:</strong> Hope they'll stay engaged<br>
                            <strong>Sandler:</strong> Agree on what happens next before you start</p>
                        </div>
                        <div class="card">
                            <h4>4. Uncover Pain, Don't Pitch</h4>
                            <p><strong>Traditional:</strong> Lead with features<br>
                            <strong>Sandler:</strong> Ask questions to find real business pain</p>
                        </div>
                    </div>

                    <h3>üõ°Ô∏è How Sandler Overcomes Early Objections</h3>
                    
                    <div class="example-box">
                        <h4>‚ùå Traditional Approach (Creates Objections):</h4>
                        <p><strong>Rep:</strong> "Hi, I'm calling from [Company] and we have an amazing solution that will revolutionize your business..."</p>
                        <p><strong>Prospect's Mental Response:</strong> "Here we go, another sales pitch. How do I get off this call?"</p>
                        <p><strong>Result:</strong> Immediate objection: "Not interested" / "Send me info" / "We're all set"</p>
                    </div>

                    <div class="tip-box">
                        <h4>‚úÖ Sandler Approach (Prevents Objections):</h4>
                        <p><strong>Rep:</strong> "Hi [Name], this is [Your Name] from [Company]. Did I catch you at a bad time?"</p>
                        <p><strong>Why It Works:</strong> Pattern interrupt - unexpected honesty</p>
                        <br>
                        <p><strong>Rep:</strong> "Look, I know you're busy. Can I take 12 seconds to tell you why I'm calling, and then you can tell me if we should even continue this conversation?"</p>
                        <p><strong>Why It Works:</strong> Up-front contract + permission + makes "no" acceptable</p>
                        <br>
                        <p><strong>Result:</strong> Prospect relaxes because there's no pressure. They actually listen instead of preparing their objection.</p>
                    </div>

                    <h3>üí° Sandler Techniques That Disarm Common Objections</h3>

                    <div class="card-grid">
                        <div class="card">
                            <h4>"Not Interested"</h4>
                            <p><strong>Sandler Response:</strong> "That's fair. Can I ask - not interested in what specifically? I haven't told you what we do yet."</p>
                            <p><em>Why it works: Challenges the auto-pilot objection with logic, not aggression</em></p>
                        </div>

                        <div class="card">
                            <h4>"Send Me Information"</h4>
                            <p><strong>Sandler Response:</strong> "I could do that, but I'd be shooting in the dark. Can I ask you 3 quick questions so I send you the right stuff and don't waste your time?"</p>
                            <p><em>Why it works: Positions you as consultative, not a spam machine</em></p>
                        </div>

                        <div class="card">
                            <h4>"We're All Set"</h4>
                            <p><strong>Sandler Response:</strong> "Glad to hear it. Out of curiosity, what are you using now?" [Then qualify if they're really happy or just brushing you off]</p>
                            <p><em>Why it works: Shows genuine interest, not just pushing your product</em></p>
                        </div>

                        <div class="card">
                            <h4>"Call Me Back Next Quarter"</h4>
                            <p><strong>Sandler Response:</strong> "I can do that. But just so I don't bug you for no reason - what would need to change between now and then for this to be worth revisiting?"</p>
                            <p><em>Why it works: Uncovers if this is a real "not now" or a polite "no"</em></p>
                        </div>
                    </div>

                    <div class="warning-box">
                        <h4>‚ö†Ô∏è Critical Sandler Rule: Never Sound Like a Salesperson</h4>
                        <p>The moment you sound "salesy," prospects put their guard up. Sandler teaches you to:</p>
                        <ul style="margin-top: 10px; color: white;">
                            <li><strong>Be direct and honest:</strong> "This is a cold call, I hate making them, you probably hate getting them."</li>
                            <li><strong>Give them an out:</strong> "If this doesn't make sense, just tell me and I'll leave you alone."</li>
                            <li><strong>Act like an equal:</strong> You're not begging for their business. You're qualifying if there's a mutual fit.</li>
                            <li><strong>Use negative reverse:</strong> "This might not be a fit for you, but let me ask..."</li>
                        </ul>
                    </div>

                    <h3>üéØ The Sandler "Pain Funnel" for Cold Calls</h3>
                    <p>Once you get past the opening, use this questioning sequence to uncover real pain (which prevents later objections):</p>

                    <div class="framework-steps">
                        <div class="step">
                            <div class="step-number">1</div>
                            <h4>Surface Level</h4>
                            <p>"Tell me about your current process for [X]"</p>
                        </div>
                        <div class="step">
                            <div class="step-number">2</div>
                            <h4>Dig Deeper</h4>
                            <p>"What don't you like about that?"</p>
                        </div>
                        <div class="step">
                            <div class="step-number">3</div>
                            <h4>Quantify Impact</h4>
                            <p>"How much is that costing you?"</p>
                        </div>
                        <div class="step">
                            <div class="step-number">4</div>
                            <h4>Emotional Impact</h4>
                            <p>"How do you feel about that?"</p>
                        </div>
                        <div class="step">
                            <div class="step-number">5</div>
                            <h4>Commitment Test</h4>
                            <p>"What have you tried to fix it?"</p>
                        </div>
                    </div>

                    <div class="tip-box">
                        <strong>üí° Why the Pain Funnel Prevents Objections:</strong>
                        <p>By the time you get to step 5, the prospect has talked themselves into needing a solution. They've articulated their own pain. Now when you suggest a next step, they're less likely to object because <em>they</em> told <em>you</em> they have a problem worth solving.</p>
                    </div>

                    <hr style="margin: 40px 0; border: none; border-top: 2px solid #e2e8f0;">

                    <h3>üõ†Ô∏è Now Build Your Sandler-Style Call Opening</h3>
                    <p>Use the components below to create a Sandler-compliant opening that prevents objections before they start.</p>

                    <div class="card" style="background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%); border: 2px solid #0891b2; margin-bottom: 30px;">
                        <h4 style="color: #0e7490; margin-bottom: 15px;">üíæ Save Your Script by Persona</h4>
                        <div style="display: flex; gap: 15px; align-items: center; flex-wrap: wrap;">
                            <div style="flex: 1; min-width: 250px;">
                                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Select Persona:</label>
                                <select id="sandler-persona" style="width: 100%; padding: 10px; font-size: 1em; border: 2px solid #0891b2; border-radius: 6px;">
                                    <option value="">Choose persona to save for...</option>
                                    <option value="cfo">CFO / Finance Leader</option>
                                    <option value="cto">CTO / VP Engineering</option>
                                    <option value="vp-sales">VP Sales / CRO</option>
                                    <option value="ceo">CEO / Founder</option>
                                    <option value="ops">COO / VP Operations</option>
                                    <optgroup id="sandler-custom-personas" label="Your Custom Personas"></optgroup>
                                </select>
                            </div>
                            <button class="btn btn-primary" onclick="loadSandlerScript()" style="white-space: nowrap;">üìÇ Load Saved</button>
                        </div>
                    </div>

                    <h3>Step 1: Choose Your Pattern Interrupt (First 3-5 seconds)</h3>
                    <div class="tip-box">
                        <strong>üí° Purpose:</strong>
                        Stop the automatic "no" and create space for a different response. The key is to say your line and then SHUT UP!
                    </div>

                    <div class="card-grid">
                        <div class="card" onclick="selectInterrupt('honest-thief')">
                            <h4>Honest Time Thief</h4>
                            <p><strong>Script:</strong> "Can I take 8 seconds of your time and tell you why I'm calling, and you can tell me whether or not we should chat?"</p>
                            <p><em>Works best: Creates curiosity with specific time request</em></p>
                        </div>
                        <div class="card" onclick="selectInterrupt('speak-first')">
                            <h4>Speak First</h4>
                            <p><strong>Script:</strong> "Hey [Name], can you hear me ok?" or "Hey [Name], [Your Name] from [Company], how have you been?"</p>
                            <p><em>Works best: Gets them talking first, lowers defenses</em></p>
                        </div>
                        <div class="card" onclick="selectInterrupt('answer-question')">
                            <h4>Answer the Question</h4>
                            <p><strong>Script:</strong> "Hey [Name] ‚Äî we haven't spoken before, and I know you are busy. Can I share why I called you today?"</p>
                            <p><em>Works best: Direct, respectful, sets expectations</em></p>
                        </div>
                        <div class="card" onclick="selectInterrupt('shock-awe')">
                            <h4>Shock and Awe</h4>
                            <p><strong>Script:</strong> "Oh wow, you picked up the phone. You just made my day!" or "This is a cold call, you hate getting them, I hate making them"</p>
                            <p><em>Works best: Humor breaks tension, shows authenticity</em></p>
                        </div>
                    </div>

                    <h3>Step 2: Build Your Upfront Contract</h3>
                    <div class="example-box">
                        <strong>üéØ Upfront Contract Elements:</strong>
                        A defined upfront contract removes objections and sets clear expectations. Include: Purpose, Agenda, Time, and Outcome.
                    </div>

                    <textarea id="purpose-input" rows="3" placeholder="PURPOSE: Why you thought it was important to speak... 
Example: 'Having recently worked with several of your peers in the [Industry], I've noticed 3 common challenges...'"></textarea>

                    <h3>Step 3: Select Your Trigger/Challenge</h3>
                    <div class="card-grid">
                        <div class="card" onclick="selectTrigger('new-role')">
                            <h4>New Role Trigger</h4>
                            <p>"I see you recently joined [Company]. New leaders often review current processes around [specific area]..."</p>
                        </div>
                        <div class="card" onclick="selectTrigger('peer-success')">
                            <h4>Peer Success Story</h4>
                            <p>"Having worked with [Competitor/Peer], they faced challenges around [X, Y, Z]. Do you see similar issues?"</p>
                        </div>
                        <div class="card" onclick="selectTrigger('market-change')">
                            <h4>Market/Industry Change</h4>
                            <p>"With recent changes in [regulation/market/technology], companies like yours are experiencing..."</p>
                        </div>
                        <div class="card" onclick="selectTrigger('custom')">
                            <h4>Custom Trigger</h4>
                            <p>Create your own based on specific research</p>
                        </div>
                    </div>

                    <textarea id="trigger-detail" rows="3" placeholder="Detail your trigger/challenge and how it relates to their pain points..."></textarea>

                    <h3>Step 4: Ask for Time</h3>
                    <select id="time-ask">
                        <option value="">Select time approach...</option>
                        <option value="now">If you have time now, we can go through more details</option>
                        <option value="book">If you don't have time, let's book 15 minutes to review your requirements</option>
                        <option value="qualify">Does any of this resonate? Is it worth a conversation when you're expecting my call?</option>
                    </select>

                    <div class="warning-box">
                        <strong>‚ö†Ô∏è Remember:</strong>
                        You don't always have to sell on the interrupt! If they don't have time, drive for a scheduled meeting with a calendar invite outlining Purpose and Outcome.
                    </div>

                    <button class="btn btn-primary" onclick="generateCallScript()">Generate My Call Script</button>
                    <button class="btn btn-success" onclick="saveSandlerScript()">üíæ Save for Persona</button>
                    <button class="btn btn-secondary" onclick="resetCallBuilder()">Reset</button>

                    <div id="call-script-output"></div>
                </div>
            </div>

            <!-- MODULE 2: PERMISSION OPENER -->
            <div id="script-builder" class="module">
                <div class="section">
                    <h2>Permission Opener - "Who I Am, What We Do, How We Do It, Disconnect"</h2>
                    <p>Build your complete cold call script using this proven structure from your training.</p>

                    <div class="framework-steps">
                        <div class="step">
                            <div class="step-number">1</div>
                            <h4>Who I Am</h4>
                            <p>Introduction & Pattern Interrupt</p>
                        </div>
                        <div class="step">
                            <div class="step-number">2</div>
                            <h4>What We Do</h4>
                            <p>Value Proposition & Pain Points</p>
                        </div>
                        <div class="step">
                            <div class="step-number">3</div>
                            <h4>How We Do It</h4>
                            <p>Approach & Methodology</p>
                        </div>
                        <div class="step">
                            <div class="step-number">4</div>
                            <h4>Disconnect</h4>
                            <p>Ask for Time & Next Steps</p>
                        </div>
                    </div>

                    <div class="card" style="background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%); border: 2px solid #0891b2; margin-bottom: 30px;">
                        <h4 style="color: #0e7490; margin-bottom: 15px;">üíæ Save Your Script by Persona</h4>
                        <div style="display: flex; gap: 15px; align-items: center; flex-wrap: wrap;">
                            <div style="flex: 1; min-width: 250px;">
                                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Select Persona:</label>
                                <select id="permission-persona" style="width: 100%; padding: 10px; font-size: 1em; border: 2px solid #0891b2; border-radius: 6px;">
                                    <option value="">Choose persona to save for...</option>
                                    <option value="cfo">CFO / Finance Leader</option>
                                    <option value="cto">CTO / VP Engineering</option>
                                    <option value="vp-sales">VP Sales / CRO</option>
                                    <option value="ceo">CEO / Founder</option>
                                    <option value="ops">COO / VP Operations</option>
                                    <optgroup id="permission-custom-personas" label="Your Custom Personas"></optgroup>
                                </select>
                            </div>
                            <button class="btn btn-primary" onclick="loadPermissionScript()" style="white-space: nowrap;">üìÇ Load Saved</button>
                        </div>
                    </div>

                    <div class="example-box">
                        <strong>üìã Sample Template (BearOps/Funded Startup Focus):</strong>
                        <p style="margin-top: 10px; line-height: 1.8;">
                            <strong>Who I am:</strong> "Hey Mark, Martin from Diligent (Silence). Yes Mark, this is a cold call, I hate making them and I know you hate receiving them."<br><br>
                            <strong>Permission:</strong> "If you are ok, can I steal 12 seconds of your time and explain why I thought it would be relevant for us to speak?"<br><br>
                            <strong>What we Do:</strong> "We work with funded startups like you to solve challenges we hear time and again from founders: How do we gain traction and scale before we run out of Time, Money, Trust? How do we create consistency and accountability across the whole team? How do we ensure we have the right processes for all new hires?"<br><br>
                            <strong>How we do it:</strong> [Your methodology/approach]
                        </p>
                    </div>

                    <h3>Step 1: Who I Am (Introduction & Pattern Interrupt)</h3>
                    <div class="tip-box">
                        <strong>üí° Components:</strong> Name + Company + Pattern Interrupt + Silence
                    </div>
                    
                    <label><strong>Your Name:</strong></label>
                    <input type="text" id="sb-name" placeholder="e.g., Martin">
                    
                    <label><strong>Your Company:</strong></label>
                    <input type="text" id="sb-company" placeholder="e.g., BearOps / Diligent">
                    
                    <label><strong>Select Pattern Interrupt Style:</strong></label>
                    <select id="sb-interrupt">
                        <option value="">Choose your approach...</option>
                        <option value="honest">Honest Approach: "Yes [Name], this is a cold call, I hate making them and I know you hate receiving them."</option>
                        <option value="pickup">Shock & Awe: "Oh wow, you picked up the phone. You just made my day!"</option>
                        <option value="direct">Direct: "We haven't spoken before, and I know you are busy. Can I share why I called you today?"</option>
                        <option value="time">Time Thief: "Can I take 8 seconds of your time and tell you why I'm calling?"</option>
                        <option value="custom">Custom (write your own below)</option>
                    </select>
                    
                    <textarea id="sb-interrupt-custom" rows="2" placeholder="Write your custom pattern interrupt here (only if you selected 'Custom' above)"></textarea>

                    <h3>Step 2: What We Do (Value Proposition)</h3>
                    <div class="tip-box">
                        <strong>üí° Focus on:</strong> Who you help + The challenges they face (3 pain points work well)
                    </div>
                    
                    <label><strong>Who You Help (Target Audience):</strong></label>
                    <input type="text" id="sb-target" placeholder="e.g., funded startups, SaaS companies, manufacturing firms">
                    
                    <label><strong>Challenge/Pain Point #1:</strong></label>
                    <textarea id="sb-challenge1" rows="2" placeholder="e.g., How do we gain traction and scale before we run out of Time, Money, Trust?"></textarea>
                    
                    <label><strong>Challenge/Pain Point #2:</strong></label>
                    <textarea id="sb-challenge2" rows="2" placeholder="e.g., How do we create consistency and accountability across the whole team?"></textarea>
                    
                    <label><strong>Challenge/Pain Point #3:</strong></label>
                    <textarea id="sb-challenge3" rows="2" placeholder="e.g., How do we ensure we have the right processes for all new hires?"></textarea>

                    <h3>Step 3: How We Do It (Your Approach)</h3>
                    <div class="tip-box">
                        <strong>üí° Describe:</strong> Your methodology, framework, or unique approach. Keep it concise and benefit-focused.
                    </div>
                    
                    <textarea id="sb-how" rows="4" placeholder="e.g., We implement EOS frameworks and create repeatable revenue systems that scale with your team. We focus on building processes that work whether you have 5 or 50 people."></textarea>

                    <h3>Step 4: Disconnect (Permission & Next Steps)</h3>
                    <div class="tip-box">
                        <strong>üí° Key Elements:</strong> Check if it resonates + Ask for time + Make it safe to say no
                    </div>
                    
                    <label><strong>Resonance Check:</strong></label>
                    <select id="sb-resonance">
                        <option value="">Choose your approach...</option>
                        <option value="resonate">Does any of this resonate with you?</option>
                        <option value="similar">Do you see similar challenges in your business?</option>
                        <option value="worth">Is this worth a conversation?</option>
                        <option value="assume">Now, I don't want to assume anything about your business. But you tell me ‚Äì is there anything there that might be worth exploring?</option>
                    </select>
                    
                    <label><strong>Time Ask:</strong></label>
                    <select id="sb-time-ask">
                        <option value="">Choose your approach...</option>
                        <option value="now">If you have time now, we can go through more details</option>
                        <option value="book">If you don't have time, let's book 15 minutes to review your requirements further</option>
                        <option value="both">If you have time now we can discuss, otherwise let's find 15 minutes in your calendar</option>
                        <option value="custom">Custom</option>
                    </select>
                    
                    <textarea id="sb-time-custom" rows="2" placeholder="Write your custom time ask here (only if you selected 'Custom' above)"></textarea>

                    <div class="warning-box">
                        <strong>‚ö†Ô∏è Remember:</strong>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li><strong>SILENCE IS KEY</strong> - After your intro, SHUT UP and let them respond</li>
                            <li><strong>Permission-based</strong> - Always ask before launching into your pitch</li>
                            <li><strong>Make "No" OK</strong> - Reduce pressure and build trust</li>
                            <li><strong>Book specific times</strong> - Always drive for a calendar invite, not "I'll call back"</li>
                        </ul>
                    </div>

                    <button class="btn btn-primary" onclick="generateFullScript()">Generate Complete Script</button>
                    <button class="btn btn-secondary" onclick="copyScriptToClipboard()">Copy to Clipboard</button>
                    <button class="btn btn-success" onclick="savePermissionScript()">üíæ Save for Persona</button>
                    <button class="btn btn-secondary" onclick="resetScriptBuilder()">Reset</button>

                    <div id="full-script-output"></div>

                    <div id="saved-scripts-section" style="margin-top: 40px;">
                        <h3>Saved Scripts</h3>
                        <div id="saved-scripts-list"></div>
                    </div>
                </div>
            </div>

            <!-- MODULE 3: SPIN NAVIGATOR -->
            <div id="spin" class="module">
                <div class="section">
                    <h2>SPIN Selling Question Navigator</h2>
                    <p><strong>Core Principle:</strong> You don't need to have all the answers, you just need to ask the right questions.</p>

                    <div class="framework-steps">
                        <div class="step">
                            <div class="step-number">S</div>
                            <h4>Situation</h4>
                            <p>Background & Facts</p>
                        </div>
                        <div class="step">
                            <div class="step-number">P</div>
                            <h4>Problem</h4>
                            <p>Difficulties & Issues</p>
                        </div>
                        <div class="step">
                            <div class="step-number">I</div>
                            <h4>Implication</h4>
                            <p>Consequences & Impact</p>
                        </div>
                        <div class="step">
                            <div class="step-number">N</div>
                            <h4>Need-Payoff</h4>
                            <p>Value & Benefits</p>
                        </div>
                    </div>

                    <h3>Select Your Industry/Persona</h3>
                    <div class="persona-selector">
                        <button class="persona-btn active" onclick="showSPINPersona('tech')">Tech/SaaS</button>
                        <button class="persona-btn" onclick="showSPINPersona('finance')">Financial Services</button>
                        <button class="persona-btn" onclick="showSPINPersona('manufacturing')">Manufacturing</button>
                        <button class="persona-btn" onclick="showSPINPersona('general')">General B2B</button>
                    </div>

                    <div id="spin-questions-container">
                        <!-- Questions will be populated by JavaScript -->
                    </div>

                    <div class="tip-box">
                        <strong>üí° Pro Tips for SPIN:</strong>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>Start broad with Situation questions, then narrow down</li>
                            <li>Use Problem questions to uncover pain points</li>
                            <li>Implication questions make small problems feel urgent</li>
                            <li>Need-Payoff questions let THEM explain why they need you</li>
                            <li>Follow up with "Where, When, Who, How often" to deepen understanding</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- MODULE 4: OBJECTION SIMULATOR -->
            <div id="objections" class="module">
                <div class="section">
                    <h2>Objection Response Simulator</h2>
                    <p><strong>Remember:</strong> Objections are NOT rejections. Most are born from miscommunication or lack of trust.</p>

                    <!-- INSTANT OBJECTION LOOKUP -->
                    <div class="card" style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); border: 2px solid #f59e0b; margin-bottom: 30px;">
                        <h3 style="color: #d97706; margin-bottom: 15px;">üîç Quick Objection Lookup</h3>
                        <p style="margin-bottom: 15px;"><strong>Heard an objection and need the response NOW?</strong> Type it below:</p>
                        <input type="text" id="objection-search" placeholder="Type objection (e.g., 'not interested', 'send info', 'too expensive')..." 
                               onkeyup="searchObjections()" 
                               style="width: 100%; padding: 12px; font-size: 1.05em; border: 2px solid #f59e0b; border-radius: 8px;">
                        <div id="objection-results" style="margin-top: 15px;"></div>
                    </div>

                    <hr style="margin: 40px 0; border: none; border-top: 2px solid #e2e8f0;">
                    
                    <h3>üìö Want to Practice? Use the Simulator Below</h3>

                    <div class="framework-steps">
                        <div class="step">
                            <div class="step-number">1</div>
                            <h4>Listen Actively</h4>
                        </div>
                        <div class="step">
                            <div class="step-number">2</div>
                            <h4>Acknowledge</h4>
                        </div>
                        <div class="step">
                            <div class="step-number">3</div>
                            <h4>Restate Value</h4>
                        </div>
                        <div class="step">
                            <div class="step-number">4</div>
                            <h4>Respond</h4>
                        </div>
                        <div class="step">
                            <div class="step-number">5</div>
                            <h4>Call to Action</h4>
                        </div>
                    </div>

                    <h3>Practice with Common Objections</h3>
                    <div id="objection-simulator-container">
                        <!-- Objections will be populated by JavaScript -->
                    </div>

                    <div class="warning-box">
                        <strong>‚ö†Ô∏è Things to AVOID:</strong>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>Becoming defensive or dismissive</li>
                            <li>Ignoring or glossing over objections</li>
                            <li>Using generic or scripted responses</li>
                            <li>Rushing through the process</li>
                            <li>Entering a debate with the prospect</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- MODULE 5: PRE-CALL PLANNER -->
            <div id="pre-call" class="module">
                <div class="section">
                    <h2>Pre-Call Planning Template</h2>
                    <p><strong>Why Pre-Call Planning?</strong> Removes call fear, controls the conversation, and provides a clear plan by industry/persona.</p>

                    <h3>Prospect Information</h3>
                    <input type="text" id="prospect-name" placeholder="Prospect Name">
                    <input type="text" id="prospect-company" placeholder="Company">
                    <input type="text" id="prospect-title" placeholder="Title">
                    <input type="text" id="prospect-industry" placeholder="Industry">

                    <h3>Research Insights</h3>
                    <textarea id="research-notes" rows="4" placeholder="Key insights from LinkedIn, company website, news, etc..."></textarea>

                    <h3>Triggers/Reasons for Outreach</h3>
                    <div class="card-grid">
                        <div class="card" onclick="toggleTriggerReason('funding')">
                            <h4>Recent Funding</h4>
                            <p>Series A/B/C announcement</p>
                        </div>
                        <div class="card" onclick="toggleTriggerReason('leadership')">
                            <h4>New Leadership</h4>
                            <p>New CEO/CRO/VP hire</p>
                        </div>
                        <div class="card" onclick="toggleTriggerReason('expansion')">
                            <h4>Market Expansion</h4>
                            <p>New market entry or product launch</p>
                        </div>
                        <div class="card" onclick="toggleTriggerReason('growth')">
                            <h4>Rapid Growth</h4>
                            <p>Hiring spree, scaling signals</p>
                        </div>
                    </div>

                    <h3>Call Objective</h3>
                    <select id="call-objective">
                        <option value="">Select primary objective...</option>
                        <option value="discovery">Book discovery call</option>
                        <option value="demo">Schedule product demo</option>
                        <option value="qualify">Qualify opportunity</option>
                        <option value="nurture">Nurture relationship</option>
                    </select>

                    <h3>Key Questions to Ask (Select 3-5)</h3>
                    <textarea id="key-questions" rows="5" placeholder="List your SPIN questions you plan to ask..."></textarea>

                    <h3>Potential Objections & Responses</h3>
                    <textarea id="objection-prep" rows="4" placeholder="What objections might you face? How will you respond?"></textarea>

                    <h3>Success Story/Social Proof</h3>
                    <textarea id="success-story" rows="3" placeholder="Which customer success story or case study will you reference?"></textarea>

                    <button class="btn btn-primary" onclick="generatePreCallPlan()">Generate Pre-Call Plan</button>
                    <button class="btn btn-secondary" onclick="savePreCallPlan()">Save to Local Storage</button>
                    <button class="btn btn-success" onclick="printPreCallPlan()">Print Reference Card</button>

                    <div id="pre-call-output"></div>
                </div>
            </div>

            <!-- MODULE 7: MEDDICC QUALIFIER -->
            <div id="meddicc" class="module">
                <div class="section">
                    <h2>MEDDICC/BANT Qualification Checklist</h2>
                    <p>Use this to qualify opportunities and identify gaps in your discovery</p>

                    <div class="meddicc-checklist">
                        <h3>‚úÖ Metrics</h3>
                        <div class="meddicc-item">
                            <input type="checkbox" id="metrics-1">
                            <label for="metrics-1"><strong>What quantifiable metrics matter to them?</strong><br>What are their current numbers vs. desired outcomes?</label>
                        </div>
                        <div class="meddicc-item">
                            <input type="checkbox" id="metrics-2">
                            <label for="metrics-2"><strong>ROI/Value discussion held?</strong><br>What financial impact would solving this create?</label>
                        </div>

                        <h3>‚úÖ Economic Buyer</h3>
                        <div class="meddicc-item">
                            <input type="checkbox" id="eb-1">
                            <label for="eb-1"><strong>Who has budget authority?</strong><br>Have you identified the person who can sign the contract?</label>
                        </div>
                        <div class="meddicc-item">
                            <input type="checkbox" id="eb-2">
                            <label for="eb-2"><strong>Is our contact an influencer?</strong><br>What role will they play in the decision?</label>
                        </div>

                        <h3>‚úÖ Decision Criteria</h3>
                        <div class="meddicc-item">
                            <input type="checkbox" id="dc-1">
            <p style="margin: 5px 0;">‚Ä¢ "Can you hear me ok?"</p>
            <p style="margin: 5px 0;">‚Ä¢ "This is a cold call..."</p>
            
            <h4 style="margin-top: 15px;">SPIN Order:</h4>
            <p style="margin: 5px 0;">1. Situation (facts)</p>
            <p style="margin: 5px 0;">2. Problem (pain)</p>
            <p style="margin: 5px 0;">3. Implication (impact)</p>
            <p style="margin: 5px 0;">4. Need-Payoff (value)</p>
            
            <h4 style="margin-top: 15px;">Objection Steps:</h4>
            <p style="margin: 5px 0;">1. Listen</p>
            <p style="margin: 5px 0;">2. Acknowledge</p>
            <p style="margin: 5px 0;">3. Restate</p>
            <p style="margin: 5px 0;">4. Respond</p>
            <p style="margin: 5px 0;">5. Call to Action</p>
        </div>
    </div>

    <script>
        // Forward declarations - temporary stubs that will be replaced
        window.generateQuickScript = function() { console.log('‚è≥ Stub: generateQuickScript loading...'); };
        window.copyQuickScript = function() { console.log('‚è≥ Stub: copyQuickScript loading...'); };
        window.printCallSheet = function() { console.log('‚è≥ Stub: printCallSheet loading...'); };
        window.showAddPersonaModal = function() { console.log('‚è≥ Stub: showAddPersonaModal loading...'); };
        window.closeAddPersonaModal = function() { console.log('‚è≥ Stub: closeAddPersonaModal loading...'); };
        window.saveCustomPersona = function() { console.log('‚è≥ Stub: saveCustomPersona loading...'); };
        window.saveSandlerScript = function() { console.log('‚è≥ Stub: saveSandlerScript loading...'); };
        window.loadSandlerScript = function() { console.log('‚è≥ Stub: loadSandlerScript loading...'); };
        window.savePermissionScript = function() { console.log('‚è≥ Stub: savePermissionScript loading...'); };
        window.loadPermissionScript = function() { console.log('‚è≥ Stub: loadPermissionScript loading...'); };
        
        console.log('‚úÖ Step 1: Stubs created');
        
        // Global state
        let selectedInterrupt = null;
        let selectedTrigger = null;
        let selectedTriggerReasons = [];
        
        console.log('‚úÖ Step 2: Global state initialized');

        // Navigation
        function showModule(moduleId) {
            document.querySelectorAll('.module').forEach(m => m.classList.remove('active'));
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            document.getElementById(moduleId).classList.add('active');
            event.target.classList.add('active');
        }

        // Call Builder Functions
        function selectInterrupt(type) {
            document.querySelectorAll('#call-builder .card').forEach(c => c.classList.remove('selected'));
            event.currentTarget.classList.add('selected');
            selectedInterrupt = type;
        }

        function selectTrigger(type) {
            const cards = document.querySelectorAll('#call-builder .card-grid:nth-of-type(2) .card');
            cards.forEach(c => c.classList.remove('selected'));
            event.currentTarget.classList.add('selected');
            selectedTrigger = type;
        }

        function generateCallScript() {
            const purpose = document.getElementById('purpose-input').value;
            const triggerDetail = document.getElementById('trigger-detail').value;
            const timeAsk = document.getElementById('time-ask').value;

            if (!selectedInterrupt || !purpose || !triggerDetail || !timeAsk) {
                alert('Please complete all sections before generating your script!');
                return;
            }

            const interrupts = {
                'honest-thief': 'Can I take 8 seconds of your time and tell you why I\'m calling, and you can tell me whether or not we should chat?',
                'speak-first': 'Hey [Name], can you hear me ok?',
                'answer-question': 'Hey [Name] ‚Äî we haven\'t spoken before, and I know you are busy. Can I share why I called you today?',
                'shock-awe': 'Oh wow, you picked up the phone. You just made my day!'
            };

            const timeAsks = {
                'now': 'If you have time now, we can go through more details.',
                'book': 'If you don\'t have time, let\'s book 15 minutes to review your requirements further.',
                'qualify': 'Does any of this resonate? Is it worth a conversation when you\'re expecting my call?'
            };

            const script = `
<div class="script-output">
<h3>Your Custom Call Script</h3>

<strong>PATTERN INTERRUPT (First 3-5 seconds):</strong>
${interrupts[selectedInterrupt]}
[PAUSE - LET THEM RESPOND]

<strong>PURPOSE & UPFRONT CONTRACT:</strong>
${purpose}

<strong>TRIGGER/CHALLENGE:</strong>
${triggerDetail}

Now, I don't want to assume anything about your business. But you tell me ‚Äì is there anything there that might be worth a conversation?
[PAUSE - LISTEN]

<strong>ASK FOR TIME:</strong>
${timeAsks[timeAsk]}

<strong>NEXT STEP:</strong>
[Book specific time or continue conversation based on their response]
</div>
            `;

            document.getElementById('call-script-output').innerHTML = script;
        }

        function resetCallBuilder() {
            document.querySelectorAll('#call-builder .card.selected').forEach(c => c.classList.remove('selected'));
            document.getElementById('purpose-input').value = '';
            document.getElementById('trigger-detail').value = '';
            document.getElementById('time-ask').value = '';
            document.getElementById('call-script-output').innerHTML = '';
            selectedInterrupt = null;
            selectedTrigger = null;
        }

        // SPIN Navigator
        function showSPINPersona(persona) {
            document.querySelectorAll('.persona-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            loadSPINQuestions(persona);
        }

        function loadSPINQuestions(persona) {
            const questions = {
                'tech': {
                    situation: [
                        'How do you currently manage your [process/system]?',
                        'What tools are you using today for [specific function]?',
                        'How many team members are involved in [process]?',
                        'What does your tech stack look like for [area]?',
                        'How often do you review/update your [process]?'
                    ],
                    problem: [
                        'Do you face any challenges with integration between systems?',
                        'Are there any bottlenecks in your current workflow?',
                        'Do you ever experience delays in [specific process]?',
                        'How much manual work is involved in [task]?',
                        'Do you have visibility into [specific metrics] across the team?'
                    ],
                    implication: [
                        'What effect does that have on your team\'s productivity?',
                        'How does that impact your ability to scale?',
                        'What happens when a key team member is unavailable?',
                        'How does this affect your customer experience?',
                        'What\'s the cost of these delays in terms of revenue/time?'
                    ],
                    needPayoff: [
                        'If you could automate this, what would that free your team to do?',
                        'How would real-time visibility help your decision-making?',
                        'What would it mean for your business if you could reduce this by 50%?',
                        'Besides saving time, what other benefits would you see?',
                        'How would this help you achieve your Q4 goals?'
                    ]
                },
                'finance': {
                    situation: [
                        'What does your current compliance reporting process look like?',
                        'How many stakeholders are involved in your audit process?',
                        'What systems do you use for financial reporting?',
                        'How do you currently manage regulatory requirements?',
                        'What\'s your timeline for board reporting?'
                    ],
                    problem: [
                        'Do you face any challenges with audit preparation?',
                        'How much time does your team spend on manual reconciliation?',
                        'Do you ever experience delays in closing books?',
                        'Are there any issues with data accuracy across systems?',
                        'Do you have concerns about compliance risk?'
                    ],
                    implication: [
                        'What happens if you miss a regulatory deadline?',
                        'How does this affect your auditor relationships?',
                        'What\'s the cost of these manual processes in FTE time?',
                        'How does this impact your ability to make strategic decisions?',
                        'What risk does this pose to the organization?'
                    ],
                    needPayoff: [
                        'How would streamlined reporting help your board relationships?',
                        'What would it mean if you could reduce audit prep by 70%?',
                        'If you had real-time compliance tracking, how would that change things?',
                        'What other initiatives could your team focus on?',
                        'How would this improve your risk profile?'
                    ]
                },
                'manufacturing': {
                    situation: [
                        'How do you currently track production across facilities?',
                        'What systems do you use for inventory management?',
                        'How many suppliers are in your supply chain?',
                        'What does your quality control process look like?',
                        'How do you handle maintenance scheduling?'
                    ],
                    problem: [
                        'Do you face any challenges with production downtime?',
                        'Are there visibility issues across your supply chain?',
                        'Do you ever experience delays in getting parts/materials?',
                        'How much waste or scrap do you typically see?',
                        'Do you have issues forecasting demand accurately?'
                    ],
                    implication: [
                        'What does downtime cost you per hour/day?',
                        'How does this affect your customer delivery commitments?',
                        'What happens when you can\'t fulfill orders on time?',
                        'How does waste impact your margins?',
                        'What effect does this have on employee morale/safety?'
                    ],
                    needPayoff: [
                        'If you could reduce downtime by 30%, what would that mean?',
                        'How would predictive maintenance help your operations?',
                        'What would better visibility into supply chain do for you?',
                        'If you could improve yield by 10%, what\'s the financial impact?',
                        'What other improvements would this enable?'
                    ]
                },
                'general': {
                    situation: [
                        'How do you currently handle [process]?',
                        'What does your team structure look like for [function]?',
                        'What tools/systems are you using today?',
                        'How long have you been doing it this way?',
                        'What does success look like for your team this year?'
                    ],
                    problem: [
                        'What challenges do you face with your current approach?',
                        'Are there any pain points in the process?',
                        'What takes up most of your team\'s time?',
                        'Do you ever experience [specific issue]?',
                        'What keeps you up at night about [area]?'
                    ],
                    implication: [
                        'What effect does that have on your ability to [goal]?',
                        'How does this impact your team\'s performance?',
                        'What happens if this continues for another 6 months?',
                        'How does this affect your relationship with [stakeholders]?',
                        'What\'s the cost of inaction?'
                    ],
                    needPayoff: [
                        'How would solving this help you achieve [goal]?',
                        'What would it mean if you could eliminate [problem]?',
                        'If you had [solution], what could your team accomplish?',
                        'What other benefits would you see?',
                        'How would this change things for you personally?'
                    ]
                }
            };

            const container = document.getElementById('spin-questions-container');
            const personaQuestions = questions[persona];
            
            let html = '';
            const stages = [
                {key: 'situation', title: 'Situation Questions', desc: 'Background & facts about their current state'},
                {key: 'problem', title: 'Problem Questions', desc: 'Uncover difficulties & dissatisfaction'},
                {key: 'implication', title: 'Implication Questions', desc: 'Explore consequences & impact'},
                {key: 'needPayoff', title: 'Need-Payoff Questions', desc: 'Build value & benefits of solving'}
            ];

            stages.forEach(stage => {
                html += `
                    <div class="question-stage">
                        <h3>${stage.title}</h3>
                        <p style="color: #6c757d; margin-bottom: 15px;">${stage.desc}</p>
                        <ul class="question-list">
                            ${personaQuestions[stage.key].map(q => 
                                `<li class="question-item" onclick="copyQuestion(this)">${q}</li>`
                            ).join('')}
                        </ul>
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        function copyQuestion(element) {
            const text = element.textContent;
            navigator.clipboard.writeText(text).then(() => {
                const original = element.style.background;
                element.style.background = '#d4edda';
                element.innerHTML = '‚úì Copied: ' + text;
                setTimeout(() => {
                    element.style.background = original;
                    element.innerHTML = text;
                }, 2000);
            });
        }

        // Objection Simulator
        function loadObjections() {
            const objections = [
                {
                    objection: "I'm not interested",
                    responses: [
                        {text: "I completely understand. Most people aren't interested until they know why I'm calling. Can I take 10 seconds to explain, and then you can decide?", correct: true, feedback: "‚úì Good! You acknowledged and gave them control while getting your foot in the door."},
                        {text: "That's fine, but just so you know, we work with companies like yours...", correct: false, feedback: "‚úó Too pushy. You didn't acknowledge their concern or give them an out."},
                        {text: "No problem, I'll try back another time.", correct: false, feedback: "‚úó You gave up too easily without understanding why they're not interested."}
                    ]
                },
                {
                    objection: "Send me some information",
                    responses: [
                        {text: "I'd be happy to! What specific area would be most valuable for you to learn about?", correct: true, feedback: "‚úì Excellent! You're qualifying while agreeing to their request."},
                        {text: "Sure, I'll send everything over right now.", correct: false, feedback: "‚úó You lost the opportunity to qualify and understand their needs."},
                        {text: "Most of my clients find a quick call more valuable than email. Can we schedule 10 minutes?", correct: false, feedback: "‚úó You're dismissing their request and being too aggressive."}
                    ]
                },
                {
                    objection: "We're already working with someone",
                    responses: [
                        {text: "That's great! Most of our best clients worked with someone before us. Out of curiosity, what would need to change for you to consider alternatives?", correct: true, feedback: "‚úì Perfect! You're planting seeds and understanding their switching criteria."},
                        {text: "Who are you working with? We're probably better than them.", correct: false, feedback: "‚úó Never badmouth competitors. This damages your credibility."},
                        {text: "Okay, I'll check back in 6 months.", correct: false, feedback: "‚úó You're not uncovering if there are any pain points with their current solution."}
                    ]
                },
                {
                    objection: "I don't have time right now",
                    responses: [
                        {text: "I totally understand. When would be a better time? I can send a calendar invite for 15 minutes next week.", correct: true, feedback: "‚úì Great! You respected their time and moved to schedule a specific time."},
                        {text: "This will only take 2 minutes, I promise!", correct: false, feedback: "‚úó You're not respecting their stated constraint and being pushy."},
                        {text: "No problem, I'll call back later.", correct: false, feedback: "‚úó Too vague. Always try to book a specific time."}
                    ]
                },
                {
                    objection: "What's this regarding?",
                    responses: [
                        {text: "Great question! I'm calling because I recently worked with [similar company] who faced challenges around [X]. I thought it might be relevant for you. Does that resonate?", correct: true, feedback: "‚úì Excellent! You gave a specific, relevant reason and asked for feedback."},
                        {text: "We help companies like yours with [generic value prop].", correct: false, feedback: "‚úó Too generic. Use specific triggers and peer examples."},
                        {text: "I wanted to introduce you to our company and see if you'd be interested in learning more.", correct: false, feedback: "‚úó Too vague and not prospect-focused."}
                    ]
                },
                {
                    objection: "We don't have budget",
                    responses: [
                        {text: "I appreciate that. Most companies I work with didn't have budget until they understood the cost of NOT solving the problem. Can I share a quick example?", correct: true, feedback: "‚úì Good! You're reframing budget as a priority issue, not an availability issue."},
                        {text: "That's okay, we have flexible payment terms.", correct: false, feedback: "‚úó You're treating this as a price objection without understanding if it's really about budget."},
                        {text: "When will you have budget?", correct: false, feedback: "‚úó You're accepting the objection at face value without exploring the real issue."}
                    ]
                },
                {
                    objection: "Call me back in 6 months",
                    responses: [
                        {text: "I can definitely do that. Out of curiosity, what's happening in 6 months that would make this more relevant?", correct: true, feedback: "‚úì Perfect! You're uncovering the real reason and qualifying the opportunity."},
                        {text: "Great, I'll put a reminder to call you then.", correct: false, feedback: "‚úó You accepted the brush-off without understanding why 6 months."},
                        {text: "A lot can change in 6 months. Can we schedule 10 minutes now?", correct: false, feedback: "‚úó You're being dismissive of their timeline and too pushy."}
                    ]
                }
            ];

            const container = document.getElementById('objection-simulator-container');
            let html = '';

            objections.forEach((obj, index) => {
                html += `
                    <div class="objection-card">
                        <h4>Objection: "${obj.objection}"</h4>
                        <p style="margin-bottom: 15px; color: #6c757d;">Choose the best response:</p>
                        ${obj.responses.map((resp, rIndex) => `
                            <div class="response-option" onclick="checkResponse(${index}, ${rIndex}, ${resp.correct})">
                                ${resp.text}
                            </div>
                        `).join('')}
                        <div id="feedback-${index}" style="margin-top: 15px; font-weight: 600;"></div>
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        function checkResponse(objIndex, respIndex, isCorrect) {
            const objections = [
                {
                    objection: "I'm not interested",
                    responses: [
                        {text: "I completely understand. Most people aren't interested until they know why I'm calling. Can I take 10 seconds to explain, and then you can decide?", correct: true, feedback: "‚úì Good! You acknowledged and gave them control while getting your foot in the door."},
                        {text: "That's fine, but just so you know, we work with companies like yours...", correct: false, feedback: "‚úó Too pushy. You didn't acknowledge their concern or give them an out."},
                        {text: "No problem, I'll try back another time.", correct: false, feedback: "‚úó You gave up too easily without understanding why they're not interested."}
                    ]
                },
                {
                    objection: "Send me some information",
                    responses: [
                        {text: "I'd be happy to! What specific area would be most valuable for you to learn about?", correct: true, feedback: "‚úì Excellent! You're qualifying while agreeing to their request."},
                        {text: "Sure, I'll send everything over right now.", correct: false, feedback: "‚úó You lost the opportunity to qualify and understand their needs."},
                        {text: "Most of my clients find a quick call more valuable than email. Can we schedule 10 minutes?", correct: false, feedback: "‚úó You're dismissing their request and being too aggressive."}
                    ]
                },
                {
                    objection: "We're already working with someone",
                    responses: [
                        {text: "That's great! Most of our best clients worked with someone before us. Out of curiosity, what would need to change for you to consider alternatives?", correct: true, feedback: "‚úì Perfect! You're planting seeds and understanding their switching criteria."},
                        {text: "Who are you working with? We're probably better than them.", correct: false, feedback: "‚úó Never badmouth competitors. This damages your credibility."},
                        {text: "Okay, I'll check back in 6 months.", correct: false, feedback: "‚úó You're not uncovering if there are any pain points with their current solution."}
                    ]
                },
                {
                    objection: "I don't have time right now",
                    responses: [
                        {text: "I totally understand. When would be a better time? I can send a calendar invite for 15 minutes next week.", correct: true, feedback: "‚úì Great! You respected their time and moved to schedule a specific time."},
                        {text: "This will only take 2 minutes, I promise!", correct: false, feedback: "‚úó You're not respecting their stated constraint and being pushy."},
                        {text: "No problem, I'll call back later.", correct: false, feedback: "‚úó Too vague. Always try to book a specific time."}
                    ]
                },
                {
                    objection: "What's this regarding?",
                    responses: [
                        {text: "Great question! I'm calling because I recently worked with [similar company] who faced challenges around [X]. I thought it might be relevant for you. Does that resonate?", correct: true, feedback: "‚úì Excellent! You gave a specific, relevant reason and asked for feedback."},
                        {text: "We help companies like yours with [generic value prop].", correct: false, feedback: "‚úó Too generic. Use specific triggers and peer examples."},
                        {text: "I wanted to introduce you to our company and see if you'd be interested in learning more.", correct: false, feedback: "‚úó Too vague and not prospect-focused."}
                    ]
                },
                {
                    objection: "We don't have budget",
                    responses: [
                        {text: "I appreciate that. Most companies I work with didn't have budget until they understood the cost of NOT solving the problem. Can I share a quick example?", correct: true, feedback: "‚úì Good! You're reframing budget as a priority issue, not an availability issue."},
                        {text: "That's okay, we have flexible payment terms.", correct: false, feedback: "‚úó You're treating this as a price objection without understanding if it's really about budget."},
                        {text: "When will you have budget?", correct: false, feedback: "‚úó You're accepting the objection at face value without exploring the real issue."}
                    ]
                },
                {
                    objection: "Call me back in 6 months",
                    responses: [
                        {text: "I can definitely do that. Out of curiosity, what's happening in 6 months that would make this more relevant?", correct: true, feedback: "‚úì Perfect! You're uncovering the real reason and qualifying the opportunity."},
                        {text: "Great, I'll put a reminder to call you then.", correct: false, feedback: "‚úó You accepted the brush-off without understanding why 6 months."},
                        {text: "A lot can change in 6 months. Can we schedule 10 minutes now?", correct: false, feedback: "‚úó You're being dismissive of their timeline and too pushy."}
                    ]
                }
            ];

            const responses = document.querySelectorAll(`#objection-simulator-container .objection-card:nth-child(${objIndex + 1}) .response-option`);
            responses.forEach(r => {
                r.classList.remove('correct', 'incorrect');
                r.style.pointerEvents = 'none';
            });

            const selectedResponse = responses[respIndex];
            if (isCorrect) {
                selectedResponse.classList.add('correct');
            } else {
                selectedResponse.classList.add('incorrect');
            }

            const feedback = objections[objIndex].responses[respIndex].feedback;
            document.getElementById(`feedback-${objIndex}`).innerHTML = feedback;

            setTimeout(() => {
                responses.forEach(r => r.style.pointerEvents = 'auto');
            }, 3000);
        }

        // Pre-Call Planner Functions
        function toggleTriggerReason(reason) {
            const card = event.currentTarget;
            if (selectedTriggerReasons.includes(reason)) {
                selectedTriggerReasons = selectedTriggerReasons.filter(r => r !== reason);
                card.classList.remove('selected');
            } else {
                selectedTriggerReasons.push(reason);
                card.classList.add('selected');
            }

        function generatePreCallPlan() {
            const name = document.getElementById('prospect-name').value;
            const company = document.getElementById('prospect-company').value;
            const title = document.getElementById('prospect-title').value;
            const industry = document.getElementById('prospect-industry').value;
            const research = document.getElementById('research-notes').value;
            const objective = document.getElementById('call-objective').value;
            const questions = document.getElementById('key-questions').value;
            const objections = document.getElementById('objection-prep').value;
            const successStory = document.getElementById('success-story').value;

            const plan = `
<div class="script-output">
<h3>Pre-Call Plan: ${name || '[Prospect Name]'}</h3>

<strong>PROSPECT PROFILE:</strong>
Name: ${name || 'N/A'}
Company: ${company || 'N/A'}
Title: ${title || 'N/A'}
Industry: ${industry || 'N/A'}

<strong>RESEARCH INSIGHTS:</strong>
${research || 'None provided'}

<strong>TRIGGER EVENTS:</strong>
${selectedTriggerReasons.length > 0 ? selectedTriggerReasons.join(', ') : 'None selected'}

<strong>CALL OBJECTIVE:</strong>
${objective || 'Not specified'}

<strong>KEY QUESTIONS TO ASK:</strong>
${questions || 'Not specified'}

<strong>ANTICIPATED OBJECTIONS & RESPONSES:</strong>
${objections || 'None prepared'}

<strong>SUCCESS STORY/SOCIAL PROOF:</strong>
${successStory || 'Not specified'}

<strong>SUCCESS CRITERIA:</strong>
‚úì Build rapport and establish credibility
‚úì Uncover at least one key pain point
‚úì Qualify using MEDDICC framework
‚úì Book next meeting or advance the opportunity
</div>
            `;

            document.getElementById('pre-call-output').innerHTML = plan;
        }

        function savePreCallPlan() {
            const planData = {
                name: document.getElementById('prospect-name').value,
                company: document.getElementById('prospect-company').value,
                title: document.getElementById('prospect-title').value,
                industry: document.getElementById('prospect-industry').value,
                research: document.getElementById('research-notes').value,
                triggers: selectedTriggerReasons,
                objective: document.getElementById('call-objective').value,
                questions: document.getElementById('key-questions').value,
                objections: document.getElementById('objection-prep').value,
                successStory: document.getElementById('success-story').value,
                timestamp: new Date().toISOString()
            };

            const savedPlans = JSON.parse(localStorage.getItem('preCellPlans') || '[]');
            savedPlans.push(planData);
            localStorage.setItem('preCallPlans', JSON.stringify(savedPlans));

            alert('Pre-call plan saved to local storage!');
        }

        function printPreCallPlan() {
            generatePreCallPlan();
            setTimeout(() => {
                window.print();
            }, 500);
        }

        

        // Permission Opener Functions
        function generateFullScript() {
            const name = document.getElementById('sb-name').value || '[Your Name]';
            const company = document.getElementById('sb-company').value || '[Your Company]';
            const interruptType = document.getElementById('sb-interrupt').value;
            const interruptCustom = document.getElementById('sb-interrupt-custom').value;
            const target = document.getElementById('sb-target').value || '[target audience]';
            const challenge1 = document.getElementById('sb-challenge1').value;
            const challenge2 = document.getElementById('sb-challenge2').value;
            const challenge3 = document.getElementById('sb-challenge3').value;
            const how = document.getElementById('sb-how').value;
            const resonance = document.getElementById('sb-resonance').value;
            const timeAsk = document.getElementById('sb-time-ask').value;
            const timeCustom = document.getElementById('sb-time-custom').value;

            // Validation
            if (!target || !challenge1 || !how || !interruptType || !resonance || !timeAsk) {
                alert('Please complete all required fields before generating your script!');
                return;
            }

            // Build interrupt text
            const interrupts = {
                'honest': `Yes [Prospect Name], this is a cold call, I hate making them and I know you hate receiving them.`,
                'pickup': `Oh wow, you picked up the phone. You just made my day!`,
                'direct': `We haven't spoken before, and I know you are busy. Can I share why I called you today?`,
                'time': `Can I take 8 seconds of your time and tell you why I'm calling?`,
                'custom': interruptCustom || '[Custom interrupt not provided]'
            };

            const interruptText = interrupts[interruptType];

            // Build resonance check
            const resonanceTexts = {
                'resonate': 'Does any of this resonate with you?',
                'similar': 'Do you see similar challenges in your business?',
                'worth': 'Is this worth a conversation?',
                'assume': 'Now, I don\'t want to assume anything about your business. But you tell me ‚Äì is there anything there that might be worth exploring?'
            };

            const resonanceText = resonanceTexts[resonance];

            // Build time ask
            const timeAskTexts = {
                'now': 'If you have time now, we can go through more details.',
                'book': 'If you don\'t have time, let\'s book 15 minutes to review your requirements further.',
                'both': 'If you have time now we can discuss, otherwise let\'s find 15 minutes in your calendar.',
                'custom': timeCustom || '[Custom time ask not provided]'
            };

            const timeAskText = timeAskTexts[timeAsk];

            // Build challenges section
            let challengesText = '';
            if (challenge1) challengesText += `\n   ‚Ä¢ ${challenge1}`;
            if (challenge2) challengesText += `\n   ‚Ä¢ ${challenge2}`;
            if (challenge3) challengesText += `\n   ‚Ä¢ ${challenge3}`;

            const script = `
<div class="script-output">
<h3>üéØ Your Complete Cold Call Script</h3>

<strong>‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</strong>
<strong>1Ô∏è‚É£ WHO I AM (Introduction & Pattern Interrupt)</strong>
<strong>‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</strong>

"Hey [Prospect Name], ${name} from ${company}."

[PAUSE - SILENCE - Let them acknowledge]

${interruptText}

[PAUSE - Wait for response]

If you are ok, can I steal 12 seconds of your time and explain why I thought it would be relevant for us to speak?

[Wait for permission - "Sure" / "OK" / "Go ahead"]

<strong>‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</strong>
<strong>2Ô∏è‚É£ WHAT WE DO (Value Proposition)</strong>
<strong>‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</strong>

We work with ${target} to solve challenges we hear time and again:
${challengesText}

<strong>‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</strong>
<strong>3Ô∏è‚É£ HOW WE DO IT (Approach & Methodology)</strong>
<strong>‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</strong>

${how}

<strong>‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</strong>
<strong>4Ô∏è‚É£ DISCONNECT (Resonance Check & Time Ask)</strong>
<strong>‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</strong>

${resonanceText}

[PAUSE - Listen to their response]

${timeAskText}

<strong>‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</strong>
<strong>üìã NEXT STEPS:</strong>
<strong>‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</strong>

‚úì If YES ‚Üí Book specific time with calendar invite
‚úì If OBJECTION ‚Üí Use objection handling framework
‚úì If NO ‚Üí "No problem, can I ask what you're focused on right now?"

<strong>üí° REMEMBER:</strong>
‚Ä¢ Silence is your friend - PAUSE after key moments
‚Ä¢ Listen more than you talk
‚Ä¢ Make "no" safe and comfortable
‚Ä¢ Always drive for specific next action
</div>
            `;

            document.getElementById('full-script-output').innerHTML = script;
        }

        function copyScriptToClipboard() {
            const scriptOutput = document.getElementById('full-script-output');
            if (!scriptOutput || !scriptOutput.textContent.trim()) {
                alert('Please generate a script first!');
                return;
            }

            const textToCopy = scriptOutput.textContent;
            navigator.clipboard.writeText(textToCopy).then(() => {
                alert('‚úì Script copied to clipboard!');
            }).catch(() => {
                alert('Failed to copy. Please try selecting and copying manually.');
            });
        }

        function saveScript() {
            const name = document.getElementById('sb-name').value || 'Unnamed';
            const company = document.getElementById('sb-company').value || 'N/A';
            const target = document.getElementById('sb-target').value || 'N/A';
            
            const scriptOutput = document.getElementById('full-script-output');
            if (!scriptOutput || !scriptOutput.textContent.trim()) {
                alert('Please generate a script first before saving!');
                return;
            }

            const scriptData = {
                id: Date.now(),
                name: name,
                company: company,
                target: target,
                scriptHTML: scriptOutput.innerHTML,
                timestamp: new Date().toISOString(),
                formData: {
                    name: document.getElementById('sb-name').value,
                    company: document.getElementById('sb-company').value,
                    interrupt: document.getElementById('sb-interrupt').value,
                    interruptCustom: document.getElementById('sb-interrupt-custom').value,
                    target: document.getElementById('sb-target').value,
                    challenge1: document.getElementById('sb-challenge1').value,
                    challenge2: document.getElementById('sb-challenge2').value,
                    challenge3: document.getElementById('sb-challenge3').value,
                    how: document.getElementById('sb-how').value,
                    resonance: document.getElementById('sb-resonance').value,
                    timeAsk: document.getElementById('sb-time-ask').value,
                    timeCustom: document.getElementById('sb-time-custom').value
                }
            };

            let savedScripts = JSON.parse(localStorage.getItem('callScripts') || '[]');
            savedScripts.push(scriptData);
            localStorage.setItem('callScripts', JSON.stringify(savedScripts));

            alert('‚úì Script saved successfully!');
            loadSavedScripts();
        }

        function loadSavedScripts() {
            const savedScripts = JSON.parse(localStorage.getItem('callScripts') || '[]');
            const container = document.getElementById('saved-scripts-list');

            if (savedScripts.length === 0) {
                container.innerHTML = '<p style="color: #6c757d;">No saved scripts yet. Generate and save your first script!</p>';
                return;
            }

            let html = '<div class="card-grid">';
            savedScripts.reverse().forEach((script, index) => {
                const date = new Date(script.timestamp).toLocaleDateString();
                html += `
                    <div class="card">
                        <h4>${script.name} - ${script.company}</h4>
                        <p><strong>Target:</strong> ${script.target}</p>
                        <p style="font-size: 0.9em; color: #6c757d;">Saved: ${date}</p>
                        <button class="btn btn-primary" style="margin: 5px;" onclick="loadScript(${script.id})">Load</button>
                        <button class="btn btn-secondary" style="margin: 5px;" onclick="deleteScript(${script.id})">Delete</button>
                    </div>
                `;
            });
            html += '</div>';

            container.innerHTML = html;
        }

        function loadScript(scriptId) {
            const savedScripts = JSON.parse(localStorage.getItem('callScripts') || '[]');
            const script = savedScripts.find(s => s.id === scriptId);

            if (!script) {
                alert('Script not found!');
                return;
            }

            // Load form data
            const fd = script.formData;
            document.getElementById('sb-name').value = fd.name || '';
            document.getElementById('sb-company').value = fd.company || '';
            document.getElementById('sb-interrupt').value = fd.interrupt || '';
            document.getElementById('sb-interrupt-custom').value = fd.interruptCustom || '';
            document.getElementById('sb-target').value = fd.target || '';
            document.getElementById('sb-challenge1').value = fd.challenge1 || '';
            document.getElementById('sb-challenge2').value = fd.challenge2 || '';
            document.getElementById('sb-challenge3').value = fd.challenge3 || '';
            document.getElementById('sb-how').value = fd.how || '';
            document.getElementById('sb-resonance').value = fd.resonance || '';
            document.getElementById('sb-time-ask').value = fd.timeAsk || '';
            document.getElementById('sb-time-custom').value = fd.timeCustom || '';

            // Display the saved script
            document.getElementById('full-script-output').innerHTML = script.scriptHTML;

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
            alert('‚úì Script loaded successfully!');
        }

        function deleteScript(scriptId) {
            if (!confirm('Are you sure you want to delete this script?')) {
                return;
            }

            let savedScripts = JSON.parse(localStorage.getItem('callScripts') || '[]');
            savedScripts = savedScripts.filter(s => s.id !== scriptId);
            localStorage.setItem('callScripts', JSON.stringify(savedScripts));

            alert('‚úì Script deleted successfully!');
            loadSavedScripts();
        }

        function resetScriptBuilder() {
            if (!confirm('Are you sure you want to reset all fields?')) {
                return;
            }

            document.getElementById('sb-name').value = '';
            document.getElementById('sb-company').value = '';
            document.getElementById('sb-interrupt').value = '';
            document.getElementById('sb-interrupt-custom').value = '';
            document.getElementById('sb-target').value = '';
            document.getElementById('sb-challenge1').value = '';
            document.getElementById('sb-challenge2').value = '';
            document.getElementById('sb-challenge3').value = '';
            document.getElementById('sb-how').value = '';
            document.getElementById('sb-resonance').value = '';
            document.getElementById('sb-time-ask').value = '';
            document.getElementById('sb-time-custom').value = '';
            document.getElementById('full-script-output').innerHTML = '';
        }

        // ===== NEW MODULE JAVASCRIPT =====

        // Manager Coaching
        let coachingNotes = JSON.parse(localStorage.getItem('coachingNotes') || '[]');

        function saveCoachingNote() {
            const note = {
                id: Date.now(),
                date: new Date().toISOString(),
                repName: document.getElementById('coach-rep-name').value,
                callRef: document.getElementById('coach-call-ref').value,
                wins: document.getElementById('coach-wins').value,
                improve: document.getElementById('coach-improve').value,
                actions: document.getElementById('coach-actions').value
            };
            
            if (!note.repName) {
                alert('Please enter rep name');
                return;
            }
            
            coachingNotes.push(note);
            localStorage.setItem('coachingNotes', JSON.stringify(coachingNotes));
            
            alert('‚úì Coaching note saved!');
            
            // Clear form
            document.getElementById('coach-rep-name').value = '';
            document.getElementById('coach-call-ref').value = '';
            document.getElementById('coach-wins').value = '';
            document.getElementById('coach-improve').value = '';
            document.getElementById('coach-actions').value = '';
        }

        function emailCoachingNote() {
            const repName = document.getElementById('coach-rep-name').value;
            const wins = document.getElementById('coach-wins').value;
            const improve = document.getElementById('coach-improve').value;
            const actions = document.getElementById('coach-actions').value;
            
            const subject = `Coaching Feedback - ${new Date().toLocaleDateString()}`;
            const body = `Hi ${repName},

Great work on your recent calls! Here's your coaching feedback:

‚úÖ What You Did Well:
${wins}

üìà Area to Improve:
${improve}

üéØ Action Items:
${actions}

Keep up the great work!`;
            
            const mailto = `mailto:?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
            window.location.href = mailto;
        }

        function viewTeamAdoption() {
            alert('Team Adoption Report:\n\nThis feature requires manager dashboard access.\nConnect this tool to your CRM to view team-wide analytics.');
        }

        // ===== QUICK START MODULE =====
        
        const quickStartScripts = {
            cfo: {
                title: "CFO / Finance Leader",
                script: `Hi [Name], this is [Your Name] from [Company].

**[PATTERN INTERRUPT]**
Did I catch you at a bad time?

[Wait for response]

**[UPFRONT CONTRACT]**
I know you're busy. Can I take 12 seconds to tell you why I'm calling, and then you can tell me if we should even continue this conversation?

[Wait for permission]

**[PURPOSE & TRIGGER]**
I work with CFOs at companies like yours who are frustrated with three things:
1. Financial planning is still stuck in spreadsheets
2. No real-time visibility into burn rate across departments  
3. Forecasting accuracy is all over the place because data is in five different systems

Does any of that resonate with where you are?

**[TIME ASK]**
If you have 2 minutes now, I can share how [Similar Company] solved this. Or we can schedule 15 minutes when it's more convenient. What works better?`,
                
                spinQuestions: [
                    "How do you currently handle your monthly board reporting process?",
                    "When the board asks for real-time data, are you able to answer those questions live?",
                    "If you had automated reporting that pulled from all systems, what would that enable you to do differently?"
                ],
                
                objections: {
                    "Not interested": "That's fair - I haven't told you what we do yet. Can I ask, what specifically about financial planning is working well for you right now?",
                    "Send me information": "I could do that, but I'd be shooting in the dark. Can I ask you 3 quick questions so I send you the right stuff and don't waste your time?",
                    "We're all set": "Glad to hear it. Out of curiosity, what system are you using now for board reporting?"
                }
            },
            
            cto: {
                title: "CTO / VP Engineering",
                script: `Hi [Name], this is [Your Name] from [Company].

**[PATTERN INTERRUPT]**
This is a cold call - I hate making them, you probably hate getting them.

[Let them react]

**[UPFRONT CONTRACT]**
Look, I don't even know if this is relevant to you. Can I take 10 seconds to explain why I thought it was worth reaching out, and then you decide?

[Wait for permission]

**[PURPOSE & TRIGGER]**
I work with CTOs at scaling companies who are hitting three common walls:
1. Technical debt is slowing down new feature development
2. Incident response is manual and teams are burning out
3. Can't ship fast enough to keep up with product roadmap promises

Sound familiar at all?

**[TIME ASK]**
If any of that hits home, I'd love to spend 20 minutes showing you how [Similar Company] automated their incident response. Does Thursday at 2pm or Friday morning work better?`,
                
                spinQuestions: [
                    "How often are you dealing with production incidents that pull engineers off planned work?",
                    "What's the impact on your team's morale when they're constantly firefighting?",
                    "If you could cut incident response time in half, what would that mean for your release velocity?"
                ],
                
                objections: {
                    "Not interested": "Fair enough. Can I ask - what's your biggest technical challenge right now? Just curious if we're even in the same ballpark.",
                    "Send me information": "Happy to. But we have solutions for 10 different problems. What specifically would you want to learn about - incident management, tech debt, or release automation?",
                    "We're all set": "Great to hear. What tools are you using now? Always interested to learn what's working for teams like yours."
                }
            },
            
            "vp-sales": {
                title: "VP Sales / CRO",
                script: `Hi [Name], this is [Your Name] from [Company].

**[PATTERN INTERRUPT]**
Oh wow, you actually picked up. You just made my day!

[Let them laugh/respond]

**[UPFRONT CONTRACT]**
Look, we haven't spoken before. Can I take 15 seconds to tell you why I'm calling, and you can tell me if it's worth continuing?

[Wait for permission]

**[PURPOSE & TRIGGER]**
I work with sales leaders who are dealing with:
1. Pipeline numbers that feel like guesswork
2. Reps spending more time in CRM than selling
3. No visibility into what's actually working in the field

Any of that keeping you up at night?

**[TIME ASK]**
If you've got 3 minutes now, I can walk you through how [Similar Company] got real pipeline visibility. Or we can grab 20 minutes next week. What works?`,
                
                spinQuestions: [
                    "How confident are you in your pipeline forecast right now?",
                    "What happens when your CEO asks you about deal status and you don't have real-time data?",
                    "If you had perfect visibility into every deal, what would change about how you coach your team?"
                ],
                
                objections: {
                    "Not interested": "I get it. Can I ask - are you happy with your current forecasting accuracy? Or is that not even a priority right now?",
                    "Send me information": "Sure thing. But I don't want to spam you. What's the #1 thing you'd want to fix about your sales process?",
                    "We're all set": "Love to hear it. What's your secret? Always looking to learn from leaders who have it figured out."
                }
            },
            
            ceo: {
                title: "CEO / Founder",
                script: `Hi [Name], this is [Your Name] from [Company].

**[PATTERN INTERRUPT]**
Did I catch you at a bad time?

[Wait for response]

**[UPFRONT CONTRACT]**
I know you're slammed. Can I take 10 seconds to tell you why I called, and then you tell me if we should talk or if I should leave you alone?

[Wait for permission]

**[PURPOSE & TRIGGER]**
I work with CEOs at [Stage] companies who are hitting these three walls:
1. Growth is slowing and they're not sure why
2. Team is working harder but revenue isn't scaling proportionally
3. Customer acquisition costs are climbing while retention is flat

Do any of those sound familiar?

**[TIME ASK]**
If you want to dig into this, I can show you how [Similar Company] identified their bottleneck in one 30-minute call. Does next Tuesday or Thursday work?`,
                
                spinQuestions: [
                    "Where do you think your biggest growth bottleneck is right now?",
                    "If nothing changes, what does the next 6 months look like?",
                    "If you could wave a magic wand and fix one thing about your growth engine, what would it be?"
                ],
                
                objections: {
                    "Not interested": "Totally understand. Can I ask - what IS the top priority right now? Just want to make sure I'm not calling about the wrong thing.",
                    "Send me information": "I could, but honestly CEOs don't read decks I send cold. Can I ask you two questions so I know if this even makes sense?",
                    "We're all set": "That's awesome. Seriously - what's working? I'd love to learn from you."
                }
            },
            
            ops: {
                title: "COO / VP Operations",
                script: `Hi [Name], this is [Your Name] from [Company].

**[PATTERN INTERRUPT]**
Hey, can you hear me okay?

[Wait for response]

**[UPFRONT CONTRACT]**
We haven't spoken before. Can I take 12 seconds to tell you why I'm calling, and then you decide if it's worth your time?

[Wait for permission]

**[PURPOSE & TRIGGER]**
I work with operations leaders who are wrestling with:
1. Processes that worked at 50 people are breaking at 200
2. Too much time firefighting, not enough time building systems
3. Can't scale the team without adding more headcount

Any of that sound painfully familiar?

**[TIME ASK]**
If you've got 5 minutes now, I can share how [Similar Company] automated their biggest bottleneck. Or we can schedule 20 minutes next week. Your call.`,
                
                spinQuestions: [
                    "What process is causing the most pain as you scale right now?",
                    "How much of your week is spent firefighting vs. building scalable systems?",
                    "If you could automate one operational workflow, what would have the biggest impact?"
                ],
                
                objections: {
                    "Not interested": "No problem. Out of curiosity, what's the #1 operational challenge you're focused on right now?",
                    "Send me information": "Happy to. But we solve 5 different ops problems. Which one is hurting most - process automation, team scaling, or system integration?",
                    "We're all set": "That's great. What systems are you using? Always interested in what's working for ops teams."
                }
            }
        };
        
        console.log('‚úÖ Step 3: About to replace stubs with real functions...');
        console.log('quickStartScripts keys:', Object.keys(quickStartScripts));
        
        // Make functions globally accessible
        window.generateQuickScript = function() {
            console.log('=== generateQuickScript called ===');
            try {
                const personaElement = document.getElementById('quick-persona');
                console.log('Persona element:', personaElement);
                
                const persona = personaElement ? personaElement.value : null;
                console.log('Selected persona:', persona);
                
                if (!persona) {
                    console.log('No persona selected, hiding output');
                    document.getElementById('quick-output').style.display = 'none';
                    return;
                }
                
                console.log('Available personas in quickStartScripts:', Object.keys(quickStartScripts));
                const data = quickStartScripts[persona];
                console.log('Data for persona:', data);
                
                if (!data) {
                    console.error('No script data found for persona:', persona);
                    alert('‚ö†Ô∏è Script not found for this persona. The persona might not be fully set up yet.');
                    document.getElementById('quick-output').style.display = 'none';
                    return;
                }
                
                const output = document.getElementById('quick-script-display');
                if (!output) {
                    console.error('Output element not found');
                    return;
                }
                
                console.log('Building HTML...');
                let html = `
<h3 style="color: #667eea; margin-bottom: 20px;">üìû Your ${data.title} Cold Call Script</h3>

<div style="background: #f7fafc; padding: 20px; border-radius: 8px; margin-bottom: 25px; white-space: pre-wrap; font-family: inherit; line-height: 1.8;">
${data.script}
</div>

<h3 style="color: #667eea; margin: 30px 0 15px 0;">üéØ Your 3 SPIN Questions (Use These in Order)</h3>
<ol style="background: #f0fdf4; padding: 25px 25px 25px 45px; border-radius: 8px; border-left: 4px solid #10b981; margin-bottom: 25px; line-height: 1.8;">
`;
                
                data.spinQuestions.forEach(q => {
                    html += `    <li style="margin: 10px 0; font-size: 1.05em;"><strong>${q}</strong></li>\n`;
                });
                
                html += `</ol>

<h3 style="color: #667eea; margin: 30px 0 15px 0;">üõ°Ô∏è Top 3 Objections & Your Responses</h3>
<div style="background: #fef3c7; padding: 20px; border-radius: 8px; border-left: 4px solid #f59e0b;">
`;
                
                for (const [objection, response] of Object.entries(data.objections)) {
                    html += `
    <div style="margin-bottom: 20px; padding-bottom: 20px; border-bottom: 1px solid #fbbf24;">
        <p style="font-weight: bold; color: #d97706; font-size: 1.05em; margin-bottom: 8px;">‚ùå "${objection}"</p>
        <p style="margin: 0; font-size: 1.05em;"><strong>‚Üí Your Response:</strong> "${response}"</p>
    </div>
`;
                }
                
                html += `</div>

<div class="tip-box" style="margin-top: 30px;">
    <h4>‚úÖ You're Ready to Call!</h4>
    <p style="margin: 10px 0 0 0;">Click "Copy Everything" above, open your dialer, and GO. You've got this. Make 10 calls with this script and you'll own it.</p>
</div>
`;
                
                console.log('Setting HTML...');
                output.innerHTML = html;
                document.getElementById('quick-output').style.display = 'block';
                console.log('Output displayed');
                
                // Scroll to output
                output.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                console.log('=== generateQuickScript completed ===');
            } catch (error) {
                console.error('Error in generateQuickScript:', error);
                alert('‚ö†Ô∏è Error generating script: ' + error.message + '. Check console for details.');
            }
        };
        
        console.log('‚úÖ Step 4: generateQuickScript REPLACED with real function');
        
        window.copyQuickScript = function() {
            try {
                const output = document.getElementById('quick-script-display');
                const text = output.innerText;
                
                navigator.clipboard.writeText(text).then(() => {
                    alert('‚úÖ Script copied to clipboard! Now go make some calls!');
                }).catch(() => {
                    // Fallback for older browsers
                    const textarea = document.createElement('textarea');
                    textarea.value = text;
                    document.body.appendChild(textarea);
                    textarea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textarea);
                    alert('‚úÖ Script copied! Now go make some calls!');
                });
            } catch (error) {
                console.error('Error copying script:', error);
                alert('‚ö†Ô∏è Error copying to clipboard. Please select and copy manually.');
            }
        };
        
        window.printCallSheet = function() {
            const persona = document.getElementById('quick-persona').value;
            if (!persona) return;
            
            const data = quickStartScripts[persona];
            
            // Create printable content
            let printContent = `
<!DOCTYPE html>
<html>
<head>
    <title>Cold Call Cheat Sheet - ${data.title}</title>
    <style>
/* === APPLY TRIGGERS-COM DESIGN THEME TO CALL-PROSPECTING === */

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: linear-gradient(135deg, #0A1628 0%, #1a2942 100%);
    color: #ffffff;
    min-height: 100vh;
}

/* Containers & cards */
.container, .content, .card, .cp-card {
    background: rgba(15, 23, 42, 0.96) !important;
    border-radius: 16px !important;
    border: 1px solid rgba(148, 163, 184, 0.4) !important;
    color: #e5e7eb !important;
    box-shadow: 0 12px 30px rgba(15, 23, 42, 0.8) !important;
}

/* Header */
.header {
    background: linear-gradient(135deg, #0A1628 0%, #1a2942 100%) !important;
    color: #e5e7eb !important;
    border-radius: 16px !important;
    border: 1px solid rgba(148, 163, 184, 0.4) !important;
    box-shadow: 0 12px 30px rgba(15, 23, 42, 0.8) !important;
}

/* Main tab rows */
.nav-tabs, .cp-nav-tabs {
    background: rgba(15, 23, 42, 0.9) !important;
    border: 1px solid rgba(148, 163, 184, 0.4);
    border-radius: 999px;
    padding: 6px;
}

/* Individual tab buttons */
.nav-tab, .cp-nav-tab, .persona-btn {
    background: transparent !important;
    color: #cbd5f5 !important;
    border-radius: 999px !important;
    padding: 10px 20px !important;
    border: none !important;
    box-shadow: none !important;
}

.nav-tab.active, .cp-nav-tab.active, .persona-btn.active {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
    color: #ffffff !important;
    box-shadow: 0 4px 12px rgba(99, 102, 241, 0.5);
}

/* Section headings */
.section h2, 
.section h3,
.section h4 {
    color: #e5e7eb !important;
}

/* Info / tip / warning panels */
.info-panel,
.tip-box,
.example-box,
.warning-box,
.counter {
    background: rgba(15, 23, 42, 0.95) !important;
    border-radius: 16px !important;
    border: 1px solid rgba(148, 163, 184, 0.4) !important;
    color: #e5e7eb !important;
    box-shadow: 0 12px 30px rgba(15, 23, 42, 0.8) !important;
}

/* Framework "step" tiles */
.framework-steps .step {
    background: rgba(15, 23, 42, 0.9) !important;
    border-radius: 14px !important;
    border: 1px solid rgba(148, 163, 184, 0.4) !important;
    color: #e5e7eb !important;
}

.step-number {
    background: linear-gradient(135deg, #667eea 0%, #22c55e 100%) !important;
    color: #ffffff !important;
    box-shadow: 0 4px 15px rgba(99, 102, 241, 0.5) !important;
}

/* Inputs & selects */
textarea, 
input[type="text"], 
input[type="datetime-local"], 
select {
    background: rgba(15, 23, 42, 0.9) !important;
    border: 1px solid rgba(148, 163, 184, 0.5) !important;
    color: #ffffff !important;
    border-radius: 8px !important;
}

textarea:focus, 
input:focus, 
select:focus {
    outline: none !important;
    border-color: #667eea !important;
    box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.3) !important;
}

/* Buttons */
.btn {
    border-radius: 999px !important;
    border: none;
}

.btn-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
    color: #ffffff !important;
    box-shadow: 0 6px 20px rgba(99, 102, 241, 0.5) !important;
}

.btn-secondary {
    background: rgba(148, 163, 184, 0.25) !important;
    color: #e5e7eb !important;
    border: 1px solid rgba(148, 163, 184, 0.4) !important;
}

.btn-success {
    background: linear-gradient(135deg, #22c55e 0%, #38a169 100%) !important;
    color: #ffffff !important;
    box-shadow: 0 6px 20px rgba(34, 197, 94, 0.5) !important;
}

/* Script output / call sheet */
.script-output {
    background: rgba(15, 23, 42, 0.9) !important;
    border: 1px solid rgba(148, 163, 184, 0.4) !important;
    color: #e5e7eb !important;
}

/* Question list items */
.question-item {
    background: rgba(15, 23, 42, 0.9) !important;
    border-left: 4px solid #667eea !important;
    color: #e5e7eb !important;
}

/* Generic lists */
ul li {
    color: #cbd5f5 !important;
}

        body { font-family: Arial, sans-serif; padding: 20px; max-width: 800px; margin: 0 auto; }
        h1 { color: #667eea; border-bottom: 3px solid #667eea; padding-bottom: 10px; }
        h2 { color: #4a5568; margin-top: 25px; background: #f7fafc; padding: 10px; border-left: 4px solid #667eea; }
        .script { background: #f7fafc; padding: 15px; border: 1px solid #cbd5e1; white-space: pre-wrap; line-height: 1.6; }
        .questions { background: #f0fdf4; padding: 15px; border-left: 4px solid #10b981; }
        .objections { background: #fef3c7; padding: 15px; border-left: 4px solid #f59e0b; }
        .objection-item { margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid #fbbf24; }
        .objection-text { font-weight: bold; color: #d97706; }
        ol { padding-left: 20px; }
        li { margin: 8px 0; }
        @media print {
            body { padding: 10px; }
            h1 { font-size: 20px; }
            h2 { font-size: 16px; }
        }
    </style>
</head>
<body>
    <h1>üìû Cold Call Cheat Sheet</h1>
    <p><strong>Target:</strong> ${data.title}</p>
    
    <h2>YOUR SCRIPT</h2>
    <div class="script">${data.script}</div>
    
    <h2>üéØ YOUR 3 SPIN QUESTIONS</h2>
    <div class="questions">
        <ol>
`;
            
            data.spinQuestions.forEach(q => {
                printContent += `            <li>${q}</li>\n`;
            });
            
            printContent += `        </ol>
    </div>
    
    <h2>üõ°Ô∏è TOP 3 OBJECTIONS & RESPONSES</h2>
    <div class="objections">
`;
            
            for (const [objection, response] of Object.entries(data.objections)) {
                printContent += `        <div class="objection-item">
            <div class="objection-text">"${objection}"</div>
            <div><strong>‚Üí</strong> ${response}</div>
        </div>\n`;
            }
            
            printContent += `    </div>
</body>
</html>
`;
            
            // Open print window
            const printWindow = window.open('', '_blank');
            printWindow.document.write(printContent);
            printWindow.document.close();
            printWindow.focus();
            setTimeout(() => {
                printWindow.print();
            }, 250);
        }

        // ===== PERSONA MANAGEMENT =====
        
        let customPersonas = JSON.parse(localStorage.getItem('customPersonas') || '[]');
        let savedSandlerScripts = JSON.parse(localStorage.getItem('savedSandlerScripts') || '{}');
        let savedPermissionScripts = JSON.parse(localStorage.getItem('savedPermissionScripts') || '{}');
        
        // Initialize persona dropdowns
        function initializePersonaDropdowns() {
            const dropdowns = ['quick-persona', 'sandler-persona', 'permission-persona'];
            const optgroups = ['custom-personas-group', 'sandler-custom-personas', 'permission-custom-personas'];
            
            customPersonas.forEach(persona => {
                dropdowns.forEach((dropdownId, index) => {
                    const dropdown = document.getElementById(dropdownId);
                    const optgroup = document.getElementById(optgroups[index]);
                    
                    if (dropdown && optgroup) {
                        // Check if option already exists
                        const exists = Array.from(dropdown.options).some(opt => opt.value === persona.id);
                        if (!exists) {
                            const option = document.createElement('option');
                            option.value = persona.id;
                            option.textContent = `${persona.name} - ${persona.description}`;
                            optgroup.appendChild(option);
                            optgroup.style.display = 'block';
                        }
                    }
                });
            });
        }
        
        window.showAddPersonaModal = function() {
            document.getElementById('add-persona-modal').style.display = 'block';
        };
        
        window.closeAddPersonaModal = function() {
            document.getElementById('add-persona-modal').style.display = 'none';
            document.getElementById('new-persona-name').value = '';
            document.getElementById('new-persona-desc').value = '';
            document.getElementById('new-persona-pains').value = '';
        };
        
        window.saveCustomPersona = function() {
            const name = document.getElementById('new-persona-name').value.trim();
            const description = document.getElementById('new-persona-desc').value.trim();
            const pains = document.getElementById('new-persona-pains').value.trim();
            
            if (!name || !description || !pains) {
                alert('‚ö†Ô∏è Please fill in all fields');
                return;
            }
            
            const persona = {
                id: 'custom_' + Date.now(),
                name: name,
                description: description,
                pains: pains.split('\n').filter(p => p.trim())
            };
            
            customPersonas.push(persona);
            localStorage.setItem('customPersonas', JSON.stringify(customPersonas));
            
            // Add to Quick Start scripts (using a generic template)
            quickStartScripts[persona.id] = {
                title: persona.name,
                script: `Hi [Name], this is [Your Name] from [Company].

**[PATTERN INTERRUPT]**
Did I catch you at a bad time?

[Wait for response]

**[UPFRONT CONTRACT]**
I know you're busy. Can I take 12 seconds to tell you why I'm calling, and then you can tell me if we should even continue this conversation?

[Wait for permission]

**[PURPOSE & TRIGGER]**
I work with ${persona.name}s who are dealing with:
${persona.pains.map((p, i) => `${i + 1}. ${p}`).join('\n')}

Does any of that resonate with where you are?

**[TIME ASK]**
If you have 2 minutes now, I can share how we've helped similar companies solve this. Or we can schedule 15 minutes when it's more convenient. What works better?`,
                
                spinQuestions: [
                    `How are you currently handling [related to ${persona.pains[0]}]?`,
                    `What's the impact of [${persona.pains[1] || 'this challenge'}] on your team?`,
                    `If you could solve [${persona.pains[2] || 'these problems'}], what would that enable you to do?`
                ],
                
                objections: {
                    "Not interested": "That's fair - I haven't told you what we do yet. Can I ask, what's working well for you right now in this area?",
                    "Send me information": "I could do that, but I'd be shooting in the dark. Can I ask you 3 quick questions so I send you the right stuff?",
                    "We're all set": "Glad to hear it. Out of curiosity, what solution are you using now?"
                }
            };
            
            // Refresh dropdowns
            initializePersonaDropdowns();
            
            closeAddPersonaModal();
            alert(`‚úÖ Persona "${name}" created! It's now available in all modules.`);
        }
        
        // Sandler script save/load
        window.saveSandlerScript = function() {
            const persona = document.getElementById('sandler-persona').value;
            if (!persona) {
                alert('‚ö†Ô∏è Please select a persona first');
                return;
            }
            
            const script = {
                interrupt: selectedInterrupt,
                purpose: document.getElementById('purpose').value,
                triggerDetail: document.getElementById('trigger-detail').value,
                timeAsk: document.getElementById('time-ask').value,
                generatedScript: document.getElementById('call-script-output').innerHTML
            };
            
            if (!script.interrupt || !script.purpose) {
                alert('‚ö†Ô∏è Please generate a script first');
                return;
            }
            
            savedSandlerScripts[persona] = script;
            localStorage.setItem('savedSandlerScripts', JSON.stringify(savedSandlerScripts));
            
            const personaName = document.getElementById('sandler-persona').selectedOptions[0].text;
            alert(`‚úÖ Sandler script saved for "${personaName}"!`);
        }
        
        window.loadSandlerScript = function() {
            const persona = document.getElementById('sandler-persona').value;
            if (!persona) {
                alert('‚ö†Ô∏è Please select a persona first');
                return;
            }
            
            const script = savedSandlerScripts[persona];
            if (!script) {
                alert('‚ÑπÔ∏è No saved script found for this persona. Create one and save it!');
                return;
            }
            
            // Load the saved values
            selectedInterrupt = script.interrupt;
            document.getElementById('purpose').value = script.purpose;
            document.getElementById('trigger-detail').value = script.triggerDetail;
            document.getElementById('time-ask').value = script.timeAsk;
            
            // Highlight selected interrupt card
            document.querySelectorAll('#call-builder .card-grid .card').forEach(c => c.classList.remove('selected'));
            const interruptCard = document.querySelector(`[onclick="selectInterrupt('${script.interrupt}')"]`);
            if (interruptCard) interruptCard.classList.add('selected');
            
            // Generate the script
            generateCallScript();
            
            alert('‚úÖ Script loaded!');
        }
        
        // Permission Opener script save/load
        window.savePermissionScript = function() {
            const persona = document.getElementById('permission-persona').value;
            if (!persona) {
                alert('‚ö†Ô∏è Please select a persona first');
                return;
            }
            
            const script = {
                name: document.getElementById('sb-name').value,
                company: document.getElementById('sb-company').value,
                interrupt: document.getElementById('sb-interrupt').value,
                interruptCustom: document.getElementById('sb-interrupt-custom').value,
                target: document.getElementById('sb-target').value,
                challenge1: document.getElementById('sb-challenge1').value,
                challenge2: document.getElementById('sb-challenge2').value,
                challenge3: document.getElementById('sb-challenge3').value,
                how: document.getElementById('sb-how').value,
                disconnect: document.getElementById('sb-disconnect').value,
                generatedScript: document.getElementById('full-script-output').innerHTML
            };
            
            if (!script.name || !script.target) {
                alert('‚ö†Ô∏è Please generate a script first');
                return;
            }
            
            savedPermissionScripts[persona] = script;
            localStorage.setItem('savedPermissionScripts', JSON.stringify(savedPermissionScripts));
            
            const personaName = document.getElementById('permission-persona').selectedOptions[0].text;
            alert(`‚úÖ Permission Opener script saved for "${personaName}"!`);
        }
        
        window.loadPermissionScript = function() {
            const persona = document.getElementById('permission-persona').value;
            if (!persona) {
                alert('‚ö†Ô∏è Please select a persona first');
                return;
            }
            
            const script = savedPermissionScripts[persona];
            if (!script) {
                alert('‚ÑπÔ∏è No saved script found for this persona. Create one and save it!');
                return;
            }
            
            // Load the saved values
            document.getElementById('sb-name').value = script.name;
            document.getElementById('sb-company').value = script.company;
            document.getElementById('sb-interrupt').value = script.interrupt;
            document.getElementById('sb-interrupt-custom').value = script.interruptCustom;
            document.getElementById('sb-target').value = script.target;
            document.getElementById('sb-challenge1').value = script.challenge1;
            document.getElementById('sb-challenge2').value = script.challenge2;
            document.getElementById('sb-challenge3').value = script.challenge3;
            document.getElementById('sb-how').value = script.how;
            document.getElementById('sb-disconnect').value = script.disconnect;
            
            // Generate the script
            generateFullScript();
            
            alert('‚úÖ Script loaded!');
        }

        // ===== OBJECTION SEARCH =====
        
        const objectionDatabase = {
            "not interested": {
                response: "That's fair. Can I ask - not interested in what specifically? I haven't told you what we do yet.",
                framework: "Challenge the auto-pilot response with logic"
            },
            "send me information": {
                response: "I could do that, but I'd be shooting in the dark. Can I ask you 3 quick questions so I send you the right stuff and don't waste your time?",
                framework: "Position as consultative, not spam"
            },
            "send info": {
                response: "I could do that, but I'd be shooting in the dark. Can I ask you 3 quick questions so I send you the right stuff and don't waste your time?",
                framework: "Position as consultative, not spam"
            },
            "we're all set": {
                response: "Glad to hear it. Out of curiosity, what are you using now?",
                framework: "Show genuine interest, qualify if they're really happy"
            },
            "we're good": {
                response: "That's great. What solution are you using currently? Always interested to learn what's working.",
                framework: "Show genuine interest, uncover current solution"
            },
            "call me back": {
                response: "I can do that. But just so I don't bug you for no reason - what would need to change between now and then for this to be worth revisiting?",
                framework: "Uncover if this is real 'not now' or polite 'no'"
            },
            "next quarter": {
                response: "Makes sense. Quick question - what's happening next quarter that makes timing better then?",
                framework: "Understand the timing objection"
            },
            "too expensive": {
                response: "I totally understand. Can I ask - compared to what? I haven't shared pricing yet.",
                framework: "Uncover the real budget concern"
            },
            "no budget": {
                response: "I get it. Let me ask - if the ROI was there, would budget be something you could find?",
                framework: "Test if it's budget or value"
            },
            "happy with current": {
                response: "That's awesome. What specifically are you happy with? I'm always curious what's working for teams like yours.",
                framework: "Genuine curiosity, may uncover gaps"
            },
            "already have": {
                response: "That's great. Who are you working with now?",
                framework: "Identify the competitor, probe for gaps"
            },
            "too busy": {
                response: "I completely get that. That's actually why I called - the teams I work with save hours per week. Would 10 minutes next Thursday be better?",
                framework: "Acknowledge and reframe the problem"
            },
            "not a priority": {
                response: "Fair enough. Can I ask - what IS the top priority right now?",
                framework: "Understand their actual priorities"
            },
            "talk to my team": {
                response: "Makes sense. Who specifically should I talk to?",
                framework: "Get the right contact"
            },
            "bad time": {
                response: "I appreciate you answering. When would be a better time to catch you?",
                framework: "Respect their time, get commitment"
            }
        };
        
        function searchObjections() {
            const search = document.getElementById('objection-search').value.toLowerCase();
            const results = document.getElementById('objection-results');
            
            if (search.length < 3) {
                results.innerHTML = '';
                return;
            }
            
            let found = [];
            for (const [objection, data] of Object.entries(objectionDatabase)) {
                if (objection.includes(search)) {
                    found.push({ objection, ...data });
                }
            }
            
            if (found.length === 0) {
                results.innerHTML = '<p style="color: #ef4444; font-style: italic;">No exact match. Try: "not interested", "send info", "too expensive", "no budget"</p>';
                return;
            }
            
            let html = '';
            found.forEach(item => {
                html += `
                    <div style="background: white; padding: 15px; border-radius: 8px; margin-bottom: 15px; border: 2px solid #10b981;">
                        <p style="font-weight: bold; color: #d97706; margin-bottom: 8px;">‚ùå "${item.objection}"</p>
                        <p style="font-size: 1.05em; margin-bottom: 8px;"><strong>‚Üí Your Response:</strong> "${item.response}"</p>
                        <p style="font-size: 0.9em; color: #64748b; font-style: italic;">Why this works: ${item.framework}</p>
                        <button class="btn btn-secondary" style="margin-top: 10px; padding: 8px 16px;" onclick="copyObjectionResponse(\`${item.response}\`)">üìã Copy Response</button>
                    </div>
                `;
            });
            
            results.innerHTML = html;
        }
        
        function copyObjectionResponse(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('‚úÖ Response copied!');
            }).catch(() => {
                const textarea = document.createElement('textarea');
                textarea.value = text;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                alert('‚úÖ Response copied!');
            });
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            try {
                loadSPINQuestions('tech');
                loadObjections();
                loadSavedScripts();
                initializePersonaDropdowns();
                console.log('Cold calling tool loaded');
            } catch (error) {
                console.log('Initialization error:', error.message);
            }
        });

        }
</script>
</body>
</html>