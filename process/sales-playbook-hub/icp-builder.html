<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Triggers & ICP Builder ‚Äì BearOps</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: radial-gradient(circle at top left, #1f2937 0%, #020617 55%, #000 100%);
      color: #e5e7eb;
      min-height: 100vh;
      padding: 32px 16px 40px;
    }

    .nav-controls {
      max-width: 1200px;
      margin: 0 auto 20px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .nav-btn {
      padding: 10px 20px;
      background: rgba(255, 255, 255, 0.05);
      border: 2px solid rgba(255, 255, 255, 0.2);
      border-radius: 999px;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 600;
      color: rgba(255, 255, 255, 0.85);
      text-decoration: none;
      transition: all 0.3s ease;
      backdrop-filter: blur(8px);
      display: inline-block;
    }

    .nav-btn:hover {
      background: rgba(96, 165, 250, 0.2);
      border-color: #60a5fa;
      color: #ffffff;
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
    }

    .nav-btn-primary {
      background: rgba(96, 165, 250, 0.3);
      border-color: #60a5fa;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .header {
      margin-bottom: 24px;
    }

    .header h1 {
      font-size: 1.8rem;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      color: #e5e7eb;
      margin-bottom: 6px;
    }

    .header h1 span {
      background: linear-gradient(135deg, #60a5fa, #f97316);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .header p {
      color: #9ca3af;
      font-size: 0.95rem;
      max-width: 760px;
    }

    .pill-row {
      margin-bottom: 8px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
    }

    .pill {
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: #bfdbfe;
      background: radial-gradient(circle at top left, rgba(56, 189, 248, 0.15), transparent);
    }

    /* Progress bar */
    .progress-shell {
      margin: 18px 0 16px;
      display: flex;
      gap: 12px;
      align-items: center;
    }

    .progress-track {
      flex: 1;
      height: 6px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.9);
      overflow: hidden;
      border: 1px solid rgba(55, 65, 81, 0.9);
    }

    .progress-fill {
      height: 100%;
      width: 0;
      border-radius: inherit;
      background: linear-gradient(90deg, #4ade80, #22c55e);
      transition: width 0.25s ease-out;
    }

    .progress-label {
      font-size: 0.8rem;
      color: #9ca3af;
    }

    /* Tabs */
    .tabs {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      border-bottom: 1px solid rgba(31, 41, 55, 0.8);
      padding-bottom: 6px;
    }

    .tab {
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid transparent;
      background: transparent;
      color: #9ca3af;
      font-size: 0.85rem;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .tab.active {
      color: #e5e7eb;
      border-color: rgba(96, 165, 250, 0.8);
      background: radial-gradient(circle at top left, rgba(37, 99, 235, 0.35), rgba(15, 23, 42, 0.96));
    }

    .tab.completed::after {
      content: "‚óè";
      font-size: 0.6rem;
      margin-left: 4px;
      color: #22c55e;
    }

    .tab-content {
      display: none;
      animation: fadeIn 0.25s ease-out;
      margin-top: 18px;
    }

    .tab-content.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(6px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    /* Cards */
    .card {
      background: rgba(15, 23, 42, 0.96);
      border-radius: 18px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      padding: 18px 18px 20px;
      box-shadow: 0 18px 45px rgba(15, 23, 42, 0.85);
    }

    .card h2 {
      font-size: 1.1rem;
      margin-bottom: 6px;
    }

    .card h3 {
      font-size: 0.95rem;
      margin-top: 18px;
      margin-bottom: 6px;
    }

    .muted {
      font-size: 0.8rem;
      color: #9ca3af;
    }

    /* Form stuff */
    .form-group {
      margin-bottom: 12px;
    }

    .form-group label {
      display: block;
      font-size: 0.85rem;
      margin-bottom: 4px;
      color: #e5e7eb;
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 8px 10px;
      border-radius: 8px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      background: rgba(15, 23, 42, 0.9);
      color: #e5e7eb;
      font-size: 0.85rem;
    }

    .form-group textarea {
      min-height: 120px;
      resize: vertical;
      font-family: inherit;
    }

    .form-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 10px;
      margin-bottom: 8px;
    }

    .btn {
      border-radius: 999px;
      border: 1px solid transparent;
      padding: 7px 14px;
      font-size: 0.85rem;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .btn-primary {
      background: linear-gradient(135deg, #6366f1, #22c55e);
      color: #f9fafb;
      box-shadow: 0 8px 20px rgba(15, 23, 42, 0.9);
    }

    .btn-secondary {
      background: rgba(15, 23, 42, 0.9);
      border-color: rgba(148, 163, 184, 0.7);
      color: #e5e7eb;
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .status-message {
      font-size: 0.82rem;
      padding: 6px 10px;
      border-radius: 10px;
      margin-bottom: 10px;
    }

    .status-info {
      background: rgba(37, 99, 235, 0.12);
      border: 1px solid rgba(59, 130, 246, 0.6);
      color: #bfdbfe;
    }

    .status-warning {
      background: rgba(234, 179, 8, 0.12);
      border: 1px solid rgba(250, 204, 21, 0.7);
      color: #facc15;
    }

    .status-success {
      background: rgba(34, 197, 94, 0.12);
      border: 1px solid rgba(34, 197, 94, 0.7);
      color: #a7f3d0;
    }

    pre {
      background: rgba(15, 23, 42, 0.95);
      border-radius: 10px;
      border: 1px solid rgba(51, 65, 85, 0.95);
      padding: 10px 12px;
      font-size: 0.8rem;
      white-space: pre-wrap;
      word-wrap: break-word;
      margin-bottom: 8px;
    }

    /* ICP BUILDER STYLES (lightly trimmed) */
    .icp-header {
      text-align: left;
      margin-bottom: 16px;
    }

    .icp-pill {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 14px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      background: radial-gradient(circle at top left, rgba(56, 189, 248, 0.15), transparent);
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: #93c5fd;
      margin-bottom: 8px;
    }

    .icp-title {
      font-size: 1.4rem;
      font-weight: 700;
      letter-spacing: 0.03em;
      margin-bottom: 6px;
      background: linear-gradient(135deg, #60a5fa, #f97316);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .icp-subtitle {
      font-size: 0.9rem;
      color: #9ca3af;
      max-width: 640px;
    }

    .icp-shell {
      margin-top: 10px;
      border-radius: 20px;
      padding: 18px;
      background:
        radial-gradient(circle at top left, rgba(96, 165, 250, 0.16), transparent 55%),
        linear-gradient(135deg, rgba(15, 23, 42, 0.98), rgba(15, 23, 42, 0.96));
      border: 1px solid rgba(148, 163, 184, 0.35);
      box-shadow: 0 18px 50px rgba(15, 23, 42, 0.85);
    }

    .icp-controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      margin-bottom: 12px;
      flex-wrap: wrap;
    }

    .btn-chip {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      font-size: 0.8rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      background: rgba(15, 23, 42, 0.9);
      color: #e5e7eb;
      cursor: pointer;
    }

    .btn-chip.primary {
      background: linear-gradient(135deg, #6366f1, #22c55e);
      border-color: transparent;
    }

    .icp-summary {
      background: linear-gradient(135deg, rgba(56, 189, 248, 0.14), rgba(251, 146, 60, 0.08));
      border-radius: 16px;
      padding: 12px 14px;
      border: 1px solid rgba(251, 146, 60, 0.5);
      margin-bottom: 14px;
    }

    .icp-summary h3 {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      margin-bottom: 4px;
      color: #fed7aa;
    }

    .icp-meta-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 10px;
      margin-bottom: 12px;
    }

    .icp-meta-item {
      padding: 8px 10px;
      border-radius: 12px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.35);
      font-size: 0.8rem;
    }

    .icp-meta-label {
      text-transform: uppercase;
      letter-spacing: 0.14em;
      font-size: 0.7rem;
      color: #9ca3af;
      margin-bottom: 2px;
    }

    .icp-meta-value {
      color: #e5e7eb;
      min-height: 1.2em;
    }

    /* Accordion */

    .accordion {
      margin-top: 8px;
      border-radius: 16px;
      overflow: hidden;
      border: 1px solid rgba(51, 65, 85, 0.9);
    }

    .accordion-item + .accordion-item {
      border-top: 1px solid rgba(30, 64, 175, 0.6);
    }

    .accordion-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 14px;
      cursor: pointer;
      background: radial-gradient(circle at top left, rgba(30, 64, 175, 0.4), transparent 60%);
    }

    .accordion-title span {
      font-size: 0.85rem;
      font-weight: 600;
    }

    .accordion-icon {
      font-size: 0.9rem;
      color: #9ca3af;
      transition: transform 0.2s ease;
    }

    .accordion-item.open .accordion-icon {
      transform: rotate(90deg);
    }

    .accordion-content {
      max-height: 0;
      overflow: hidden;
      background: rgba(15, 23, 42, 0.96);
      transition: max-height 0.25s ease;
    }

    .accordion-item.open .accordion-content {
      max-height: 650px;
    }

    .accordion-columns {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 14px;
      padding: 10px 14px 14px;
      font-size: 0.88rem;
      color: #d1d5db;
    }

    .accordion-columns h4 {
      font-size: 0.82rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: #9ca3af;
      margin-bottom: 4px;
    }

    .icp-list {
      list-style: none;
      padding-left: 0;
    }

    .icp-list li {
      padding-left: 16px;
      position: relative;
      margin-bottom: 4px;
      line-height: 1.4;
    }

    .icp-list li::before {
      content: '‚Ä¢';
      position: absolute;
      left: 4px;
      top: 0;
      color: #fb923c;
    }

    .icp-badge-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 6px;
    }

    .icp-badge {
      font-size: 0.75rem;
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      background: rgba(15, 23, 42, 0.9);
      color: #e5e7eb;
    }

    /* ICP AI Prompt helper */

    .icp-prompt-card {
      margin-top: 16px;
      border-radius: 16px;
      padding: 14px 14px 16px;
      background: rgba(15, 23, 42, 0.96);
      border: 1px dashed rgba(148, 163, 184, 0.5);
    }

    .icp-prompt-card h3 {
      font-size: 0.95rem;
      margin-bottom: 8px;
    }

    .icp-prompt-box {
      position: relative;
      margin-top: 10px;
      padding: 8px 10px 10px;
      border-radius: 12px;
      background: radial-gradient(circle at top left, rgba(129, 140, 248, 0.18), transparent 60%);
      border: 1px solid rgba(148, 163, 184, 0.5);
      font-size: 0.78rem;
    }

    .icp-copy-btn {
      position: absolute;
      top: 6px;
      right: 8px;
      border: none;
      border-radius: 999px;
      padding: 3px 10px;
      font-size: 0.7rem;
      background: rgba(15, 23, 42, 0.9);
      color: #e5e7eb;
      border: 1px solid rgba(148, 163, 184, 0.7);
      cursor: pointer;
    }

    /* Messaging cards */
    .message-card {
      border-radius: 12px;
      padding: 10px 12px 12px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      margin-bottom: 10px;
      background: rgba(15, 23, 42, 0.96);
    }

    .message-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 4px;
      gap: 6px;
    }

    .message-subject {
      font-size: 0.8rem;
      color: #93c5fd;
    }

    .message-body {
      margin-bottom: 6px;
    }

    @media (max-width: 768px) {
      .icp-shell { padding: 14px; }
      .icp-controls { flex-direction: column; align-items: flex-start; }
    }
  </style>
</head>
<body>
  <div class="nav-controls">
    <a class="nav-btn" href="sales-playbooks.html">‚Üê Back to Playbooks</a>
    <a class="nav-btn" href="meddicc.html">MEDDICC ‚Üí</a>
    <a class="nav-btn" href="miller-heiman.html">Miller Heiman ‚Üí</a>
    <a class="nav-btn nav-btn-primary" href="sales-enablement-dashboard.html">üè† Dashboard</a>
  </div>

  <div class="container">
    <header class="header">
      <div class="pill-row">
        <span class="pill"> BearOps</span>
        <span class="pill">AI Triggers & ICP</span>
      </div>
      <h1><span>Account Intel, Discovery & ICP Builder</span></h1>
      <p>
        Use this workspace to define your ICP, research a target account, structure discovery, and generate tailored
        outreach scripts ‚Äì all in one BearOps-style flow.
      </p>
    </header>

    <div class="progress-shell">
      <div class="progress-track">
        <div class="progress-fill" id="progressFill"></div>
      </div>
      <div class="progress-label">Flow: Intel ‚Üí Discovery ‚Üí Messaging</div>
    </div>

    <div class="tabs">
      <button class="tab active" onclick="switchTab('icp-builder')" data-tab="icp-builder">
         ICP Builder
      </button>
      <button class="tab" onclick="switchTab('account-intel')" data-tab="account-intel">
         Account Intel
      </button>
      <button class="tab" onclick="switchTab('discovery')" data-tab="discovery">
         Discovery Framework
      </button>
      <button class="tab" onclick="switchTab('messaging')" data-tab="messaging">
         Messaging & Scripts
      </button>
      <button class="tab" onclick="switchTab('results')" data-tab="results">
         Results Tracker
      </button>
    </div>

    <!-- TAB: ICP BUILDER -->
    <div class="tab-content active" id="icp-builder">
      <div class="card">
        <div class="icp-header">
          <div class="icp-pill">
            <span> BearOps</span><span>ICP Builder</span>
          </div>
          <h2 class="icp-title">Ideal Customer Profile ‚Äì Builder</h2>
          <p class="icp-subtitle">
            Click into any block to edit. Save to browser when you‚Äôre happy. Other BearOps tools can read this ICP
            (firmographics, technographics, triggers, disqualifiers, archetypes) via <code>bearops_icp</code>.
          </p>
        </div>

        <section class="icp-shell">
          <div class="icp-controls">
            <div>
              <button type="button" class="btn-chip primary" id="btnSaveICP">üíæ Save ICP</button>
              <button type="button" class="btn-chip" id="btnResetICP">‚ôª Reset to Template</button>
            </div>
            <span class="muted">This ICP is stored only in this browser (localStorage).</span>
          </div>

          <div class="icp-summary">
            <h3>Snapshot</h3>
            <p id="icp-snapshot" contenteditable="true">
              BearOps‚Äô primary ICP is funded Irish and UK B2B SaaS/tech startups (typically Seed‚ÄìSeries B, 20‚Äì150 employees)
              whose founders need sharper GTM focus, cleaner revenue operations, and investor-ready execution without hiring
              a full-time RevOps leader.
            </p>
          </div>

          <div class="icp-meta-grid">
            <div class="icp-meta-item">
              <div class="icp-meta-label">Core Buyer</div>
              <div class="icp-meta-value" id="icp-meta-coreBuyer" contenteditable="true">
                Founder / CEO, CRO, VP Sales, COO, CFO
              </div>
            </div>
            <div class="icp-meta-item">
              <div class="icp-meta-label">Org Type</div>
              <div class="icp-meta-value" id="icp-meta-orgType" contenteditable="true">
                Funded B2B SaaS / tech scaleups
              </div>
            </div>
            <div class="icp-meta-item">
              <div class="icp-meta-label">Size / Scale</div>
              <div class="icp-meta-value" id="icp-meta-size" contenteditable="true">
                20‚Äì150 FTE, ‚Ç¨3‚Äì‚Ç¨20m ARR (expandable to 300 FTE / ‚Ç¨50m)
              </div>
            </div>
            <div class="icp-meta-item">
              <div class="icp-meta-label">Engagement Profile</div>
              <div class="icp-meta-value" id="icp-meta-engagement" contenteditable="true">
                Founder-led or new VP-level GTM leader under investor pressure to improve GTM predictability
              </div>
            </div>
          </div>

          <!-- Accordion -->
          <div class="accordion" id="icpAccordion">

            <!-- Firmographics -->
            <div class="accordion-item open">
              <div class="accordion-header">
                <div class="accordion-title">
                  <span>Firmographics</span>
                </div>
                <div class="accordion-icon">&gt;</div>
              </div>
              <div class="accordion-content">
                <div class="accordion-columns">
                  <div id="icp-firmo" contenteditable="true">
                    <h4>Organisation Basics</h4>
                    <ul class="icp-list">
                      <li>B2B SaaS or tech-first businesses with recurring revenue (subscription / usage / hybrid).</li>
                      <li>Industries: DevTools, Infra, Cyber, Analytics, FinTech, RegTech, HealthTech, AI/ML SaaS.</li>
                      <li>Employee bands: 20‚Äì150 FTE (sweet spot), expandable to 150‚Äì300 FTE.</li>
                      <li>ARR bands: ‚Ç¨3‚Äì‚Ç¨20m ARR ideal, expandable to ‚Ç¨50m.</li>
                      <li>Regions (primary): Ireland & UK; expandable: Nordics / Benelux / DACH with founder/VC ties.</li>
                      <li>Ownership: EI-backed, VC-backed (Delta, Frontline, ACT, Atlantic Bridge, Elkstone, etc.).</li>
                    </ul>
                  </div>
                  <div id="icp-firmo-extra" contenteditable="true">
                    <h4>Market & Governance Profile</h4>
                    <ul class="icp-list">
                      <li>Regulatory: GDPR (all), ISO 27001 (common), FCA/MedTech where relevant.</li>
                      <li>Buying maturity: semi-formal committees (CEO, CRO/VP Sales, COO, CFO), light procurement.</li>
                      <li>Complexity: multi-region GTM emerging, multi-product or soon to be, fragmented systems.</li>
                      <li>High stakes: forecasting misses and GTM inefficiency risk future funding rounds.</li>
                      <li>Investors pushing for predictable, repeatable GTM and RevOps discipline.</li>
                    </ul>
                    <div class="icp-badge-row" id="icp-tiers" contenteditable="true">
                      <span class="icp-badge">Tier 1: 30‚Äì150 FTE, ‚Ç¨5‚Äì‚Ç¨20m ARR</span>
                      <span class="icp-badge">Tier 2: 50‚Äì250 FTE, ‚Ç¨5‚Äì‚Ç¨50m ARR</span>
                      <span class="icp-badge">Tier 3: &lt;20 or &gt;350 FTE</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Technographics -->
            <div class="accordion-item">
              <div class="accordion-header">
                <div class="accordion-title"><span>Technographics</span></div>
                <div class="accordion-icon">&gt;</div>
              </div>
              <div class="accordion-content">
                <div class="accordion-columns">
                  <div id="icp-techno" contenteditable="true">
                    <h4>Current Stack</h4>
                    <ul class="icp-list">
                      <li>CRM: HubSpot or Salesforce + spreadsheets for edge cases.</li>
                      <li>Marketing: HubSpot, Marketo, Intercom, Customer.io, Mailchimp.</li>
                      <li>CS / Support: Zendesk, Intercom, Gainsight / in-house dashboards.</li>
                      <li>Analytics: mix of native CRM reports, Looker/Power BI, or ad-hoc exports.</li>
                      <li>RevOps today: stitched together in Notion/Sheets, inconsistent reporting, weak governance.</li>
                    </ul>
                  </div>
                  <div id="icp-techno-extra" contenteditable="true">
                    <h4>Target Profile</h4>
                    <ul class="icp-list">
                      <li>Cloud-first, API-friendly, no ‚Äúon-prem only‚Äù stance.</li>
                      <li>Willingness to standardise around a core CRM + clear lifecycle stages.</li>
                      <li>Signs: hiring Ops roles, CRM migrations, talk of ‚Äúcleaning up the funnel‚Äù.</li>
                      <li>Data readiness: enough volume & history, but underused for decision-making.</li>
                    </ul>
                    <p class="muted" id="icp-techno-notes" contenteditable="true">
                      Tech stance summary: modern SaaS stack with visible friction between systems, and leadership appetite to fix it.
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Positive Triggers -->
            <div class="accordion-item">
              <div class="accordion-header">
                <div class="accordion-title"><span>Positive Triggers</span></div>
                <div class="accordion-icon">&gt;</div>
              </div>
              <div class="accordion-content">
                <div class="accordion-columns">
                  <div id="icp-triggers" contenteditable="true">
                    <h4>Commercial / Strategic Triggers</h4>
                    <ul class="icp-list">
                      <li>New funding announcement (Seed+, Series A/B) mentioning GTM scale-up.</li>
                      <li>New CRO/VP Sales/COO/CFO hired with a ‚Äúfix GTM‚Äù mandate.</li>
                      <li>Announced expansion into new regions or segments.</li>
                      <li>Public statements on needing more predictable revenue.</li>
                    </ul>
                  </div>
                  <div id="icp-triggers-extra" contenteditable="true">
                    <h4>Operational / Risk Triggers</h4>
                    <ul class="icp-list">
                      <li>CRM migration underway or recently completed.</li>
                      <li>Leadership posts about missed forecasts or pipeline chaos.</li>
                      <li>High rep churn or rapid sales hiring with no process referenced.</li>
                      <li>Investor commentary / board roles flagging the need for discipline.</li>
                    </ul>
                    <div class="icp-badge-row" id="icp-trigger-tags" contenteditable="true">
                      <span class="icp-badge">GO NOW: new CRO + Series B</span>
                      <span class="icp-badge">GO NOW: CRM replatform</span>
                      <span class="icp-badge">Monitor: new market launch</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Disqualifiers -->
            <div class="accordion-item">
              <div class="accordion-header">
                <div class="accordion-title"><span>Disqualifiers / Anti-ICP</span></div>
                <div class="accordion-icon">&gt;</div>
              </div>
              <div class="accordion-content">
                <div class="accordion-columns">
                  <div id="icp-disqual" contenteditable="true">
                    <h4>Organisation Level</h4>
                    <ul class="icp-list">
                      <li>HARD STOP: &lt;10 FTE, pre-revenue, still at MVP level.</li>
                      <li>HARD STOP: pure B2C or non-recurring project-based services.</li>
                      <li>SOFT CAUTION: 350+ FTE with embedded RevOps & complex procurement.</li>
                      <li>SOFT CAUTION: regions you cannot service effectively (e.g. US-only with no UK/EU footprint).</li>
                    </ul>
                  </div>
                  <div id="icp-disqual-extra" contenteditable="true">
                    <h4>Commercial & Tech Constraints</h4>
                    <ul class="icp-list">
                      <li>HARD STOP: strict ‚Äúcloud-never‚Äù or uncompromising on-prem only stance.</li>
                      <li>HARD STOP: no budget at all for GTM/RevOps support in the next 12 months.</li>
                      <li>SOFT CAUTION: DIY culture, explicitly anti-consultant / anti-external advisor.</li>
                      <li>SOFT CAUTION: locked into long-term conflicting vendor contracts.</li>
                    </ul>
                    <p class="muted" id="icp-disqual-notes" contenteditable="true">
                      Scoring rules: auto-Tier 3 for any HARD STOP; for SOFT CAUTION, cap Tier at 2 unless strong counter-signal.
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Example Logo Archetypes -->
            <div class="accordion-item">
              <div class="accordion-header">
                <div class="accordion-title"><span>Example Logo Archetypes</span></div>
                <div class="accordion-icon">&gt;</div>
              </div>
              <div class="accordion-content">
                <div class="accordion-columns">
                  <div id="icp-logos" contenteditable="true">
                    <h4>Tier 1 Archetypes</h4>
                    <ul class="icp-list">
                      <li>‚ÄúA70 Security SaaS‚Äù: 70 FTE, ‚Ç¨5m ARR, Series A, new CRO, GTM chaos.</li>
                      <li>‚ÄúAI45 Insights Platform‚Äù: 45 FTE, ‚Ç¨3.8m ARR, pipeline & forecasting noise.</li>
                      <li>‚ÄúFinOps90 Automation‚Äù: 90 FTE, ‚Ç¨12m ARR, board asking for better RevOps.</li>
                    </ul>
                  </div>
                  <div id="icp-logos-extra" contenteditable="true">
                    <h4>Tier 2 / 3 Archetypes</h4>
                    <ul class="icp-list">
                      <li>‚ÄúDevTools180 Mid-Market‚Äù: 180 FTE, ‚Ç¨15m ARR, some structure but disjointed GTM.</li>
                      <li>‚ÄúHealthTech120 Compliance‚Äù: 120 FTE, ‚Ç¨22m ARR, migrating CRM & needing governance.</li>
                      <li>‚ÄúAI12 Pre-PMF‚Äù: 12 FTE, pre-revenue, nurture-only until product & funding mature.</li>
                    </ul>
                    <p class="muted" id="icp-logos-notes" contenteditable="true">
                      Use these archetypes as cells in your TAM/SAM/SOM model ‚Äì each with its own volume, ASP, and win-rate
                      assumptions for territory and resource planning.
                    </p>
                  </div>
                </div>
              </div>
            </div>

          </div>

          <!-- AI ASSIST: ICP Prompts -->
          <div class="icp-prompt-card">
            <h3>ü§ñ AI Assist ‚Äì Build Out Your ICP Section by Section</h3>
            <p class="muted">
              Copy a prompt, paste into ChatGPT/Claude, then paste the AI‚Äôs output back into the matching ICP accordion.
              Each prompt maps directly to one card: Firmographics, Technographics, Positive Triggers, Disqualifiers, and Logo Archetypes.
            </p>

            <!-- 1. Firmographics -->
            <div class="icp-prompt-box">
              <button type="button" class="icp-copy-btn"
                      onclick="copyICPPrompt('icpPromptFirmographics', this)">üìã Copy</button>
              <h4>1. Firmographics (Organisation Basics + Market &amp; Governance Profile)</h4>
              <pre id="icpPromptFirmographics">
You are a senior GTM strategist helping me define the Firmographics section of my ICP.

CONTEXT (snapshot + who we serve):
BearOps‚Äô primary ICP is funded Irish and UK B2B SaaS/tech startups (typically Seed‚ÄìSeries B, 20‚Äì150 employees) whose founders need sharper GTM focus, cleaner revenue operations, and investor-ready execution without hiring a full-time RevOps leader.

Please populate two columns that fit directly into my ICP template:

COLUMN 1 ‚Äì ‚ÄúORGANISATION BASICS‚Äù
- B2B / B2C / business model
- Industries / verticals that are a strong fit
- Typical employee and ARR bands (including ‚Äúexpandable to‚Äù ranges)
- Regions (primary) and ‚Äúexpandable‚Äù regions
- Ownership profile (e.g. EI/VC-backed, founder-led, etc.)
- Any other structural traits that matter for BearOps

COLUMN 2 ‚Äì ‚ÄúMARKET & GOVERNANCE PROFILE‚Äù
- Regulatory context, if any (e.g. FCA, GDPR, ISO) relevant to my ICP
- Buying maturity (e.g. formal buying committees / RFP process)
- Complexity (multi-entity, multi-region, multi-product, etc.)
- Competitive intensity / stakes if they get GTM wrong
- Any governance / investor dynamics that influence GTM decisions

Output:
1. A bullet list under **ORGANISATION BASICS**.
2. A bullet list under **MARKET & GOVERNANCE PROFILE**.
3. Optional 2‚Äì3 short ‚ÄúTier 1 / Tier 2 / Tier 3‚Äù badges that I can show under this card.
              </pre>
            </div>

            <!-- 2. Technographics -->
            <div class="icp-prompt-box">
              <button type="button" class="icp-copy-btn"
                      onclick="copyICPPrompt('icpPromptTechnographics', this)">üìã Copy</button>
              <h4>2. Technographics (Current Stack + Target Profile)</h4>
              <pre id="icpPromptTechnographics">
Act as a technographics analyst for BearOps.

CONTEXT:
We help funded Irish and UK B2B SaaS/tech startups (Seed‚ÄìSeries B, 20‚Äì150 employees) clean up GTM, RevOps and investor-facing execution.

I need to fill the ‚ÄúTechnographics‚Äù card in my ICP template with TWO columns:

COLUMN 1 ‚Äì ‚ÄúCURRENT STACK‚Äù
- Typical CRMs, marketing tools, CS tools, analytics and internal tooling my ICP already uses
- How they currently ‚Äúsolve‚Äù RevOps and GTM visibility (e.g. spreadsheets, ad hoc dashboards)
- Common integration gaps or data fragmentation patterns
- Security / compliance constraints that show up in my ICP

COLUMN 2 ‚Äì ‚ÄúTARGET PROFILE‚Äù
- Signals that an account has the right tech stance (cloud-first, API-friendly, centralised data, etc.)
- Signs of readiness for GTM/RevOps work (e.g. hiring ops roles, investing in CRM, recent migrations)
- 5‚Äì10 specific tech or hiring signals I can pick up from LinkedIn, job posts, or websites
- One short paragraph I can paste in as a description of the ideal technographic profile

Output as:
- Bullet list under **CURRENT STACK**
- Bullet list under **TARGET PROFILE**
- A short ‚ÄúTech stance summary‚Äù sentence I can paste into the card notes.
              </pre>
            </div>

            <!-- 3. Positive Triggers -->
            <div class="icp-prompt-box">
              <button type="button" class="icp-copy-btn"
                      onclick="copyICPPrompt('icpPromptTriggers', this)">üìã Copy</button>
              <h4>3. Positive Triggers (Commercial/Strategic + Operational/Risk)</h4>
              <pre id="icpPromptTriggers">
You are helping me operationalise my ICP into concrete outbound triggers.

CONTEXT:
BearOps helps funded Irish and UK B2B SaaS/tech startups (Seed‚ÄìSeries B, 20‚Äì150 employees) get sharper GTM focus and RevOps discipline.

I need to fill the ‚ÄúPositive Triggers‚Äù card of my ICP, which has two columns:

COLUMN 1 ‚Äì ‚ÄúCOMMERCIAL / STRATEGIC TRIGGERS‚Äù
- Funding, leadership, strategy, GTM or product events that strongly increase the chance they need BearOps
- Examples: new VP Sales, new CRO, new COO/CFO, new GTM motion, new board/investor pressure, expansion plans

COLUMN 2 ‚Äì ‚ÄúOPERATIONAL / RISK TRIGGERS‚Äù
- Operational issues, risk/compliance signals, or internal chaos that show they need RevOps help
- Examples: missed forecasts, CRM migration pain, pipeline chaos, investor commentary, high churn etc.

Please:
1. Provide 6‚Äì10 triggers split between these two columns.
2. Mark the top 3‚Äì5 as ‚ÄúGO NOW‚Äù triggers that should elevate an account to Tier 1.
3. For each trigger, add a short ‚Äúwhat to look for‚Äù hint (e.g. where I‚Äôd see it publicly).

Output as two bullet lists, clearly labelled with the column names, plus a short ‚ÄúGO NOW triggers:‚Äù list.
              </pre>
            </div>

            <!-- 4. Disqualifiers -->
            <div class="icp-prompt-box">
              <button type="button" class="icp-copy-btn"
                      onclick="copyICPPrompt('icpPromptDisqualifiers', this)">üìã Copy</button>
              <h4>4. Disqualifiers / Anti-ICP</h4>
              <pre id="icpPromptDisqualifiers">
Help me define a clear Anti-ICP / disqualifier set for BearOps.

CONTEXT:
We serve funded B2B SaaS / tech startups (Seed‚ÄìSeries B, 20‚Äì150 employees, Irish & UK) that want sharper GTM and RevOps.

My ICP template has a ‚ÄúDisqualifiers / Anti-ICP‚Äù card with TWO columns:

COLUMN 1 ‚Äì ‚ÄúORGANISATION LEVEL‚Äù
- Company size / maturity that is too small or too big to be a good BearOps client
- Business models that rarely get value (e.g. pure B2C, services-only, one-off project work)
- Geographic or structural patterns that consistently underperform

COLUMN 2 ‚Äì ‚ÄúCOMMERCIAL & TECH CONSTRAINTS‚Äù
- Budget, pricing or deal-size constraints that make us a poor fit
- Tech or security stances that conflict with how we work
- Behavioural patterns (DIY forever, no appetite for process, anti-consultant culture)

Please:
1. List 5‚Äì8 disqualifiers in each column.
2. Tag each as ‚ÄúHARD STOP‚Äù or ‚ÄúSOFT CAUTION‚Äù.
3. Suggest 3‚Äì5 ‚Äúauto Tier 3 / nurture-only‚Äù rules I can embed in a scoring model.

Output:
- Bullet list under **ORGANISATION LEVEL** (with HARD STOP / SOFT CAUTION tags)
- Bullet list under **COMMERCIAL & TECH CONSTRAINTS**
- A short ‚ÄúScoring rules‚Äù section I can paste into my territory/ICP scoring logic.
              </pre>
            </div>

            <!-- 5. Archetypes -->
            <div class="icp-prompt-box">
              <button type="button" class="icp-copy-btn"
                      onclick="copyICPPrompt('icpPromptArchetypes', this)">üìã Copy</button>
              <h4>5. Example Logo Archetypes (Tier 1 vs Tier 2/3)</h4>
              <pre id="icpPromptArchetypes">
Act as a GTM advisor helping me articulate example logo archetypes for my ICP.

CONTEXT:
BearOps helps funded Irish and UK B2B SaaS / tech companies (Seed‚ÄìSeries B, 20‚Äì150 employees) fix GTM focus and RevOps.

I need content for the ‚ÄúExample Logo Archetypes‚Äù card in my ICP with TWO columns:

COLUMN 1 ‚Äì ‚ÄúTIER 1 ARCHETYPES‚Äù
- 3‚Äì5 anonymised examples of ideal BearOps clients
- For each, specify: size, funding stage, product type, GTM pain, and why they are Tier 1

COLUMN 2 ‚Äì ‚ÄúTIER 2 / 3 ARCHETYPES‚Äù
- 3‚Äì5 anonymised examples of good but less critical fits
- Include ‚Äúemerging‚Äù or ‚Äúnurture‚Äù examples, where timing/funding/maturity isn‚Äôt yet ideal

Please format output as:
- Bullet list under **TIER 1 ARCHETYPES**
- Bullet list under **TIER 2 / 3 ARCHETYPES**
- One short paragraph explaining how I should USE these archetypes in TAM/SAM/SOM and territory planning.
              </pre>
            </div>
          </div>
        </section>
      </div>
    </div>

    <!-- TAB: ACCOUNT INTEL -->
    <div class="tab-content" id="account-intel">
      <div class="card">
        <h2>üîç Account Intel</h2>
        <p class="muted" style="margin-bottom: 10px;">
          Capture your company context and a target account/persona, then use AI prompts to build a rich intel pack.
        </p>

        <div id="intelStatus" class="status-message status-info">
          ‚ÑπÔ∏è Complete this step to unlock Discovery and Messaging.
        </div>

        <h3>Step 1: Your Company</h3>
        <div class="form-group">
          <label>Your Company Name *</label>
          <input id="yourCompany" type="text" placeholder="BearOps" />
        </div>
        <div class="form-group">
          <label>Problems You Solve (for your ICP) *</label>
          <textarea id="problemsSolved" placeholder="Examples: forecasting chaos, misaligned GTM, no clear RevOps ownership..."></textarea>
        </div>
        <div class="form-group">
          <label>Your Target Personas (optional)</label>
          <input id="yourTargetPersonas" type="text" placeholder="Founders, CEOs, CROs, VP Sales, COO, CFO..." />
        </div>

        <h3>Step 2: Target Account</h3>
        <div class="form-row">
          <div class="form-group">
            <label>Company Name *</label>
            <input id="companyName" type="text" placeholder="TargetCo" />
          </div>
          <div class="form-group">
            <label>Target Persona *</label>
            <input id="targetPersona" type="text" placeholder="CRO, VP Sales, Founder..." />
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>Industry</label>
            <input id="industry" type="text" placeholder="B2B SaaS, FinTech, HealthTech..." />
          </div>
          <div class="form-group">
            <label>Company Size</label>
            <input id="companySize" type="text" placeholder="e.g. 80 FTE / ‚Ç¨6m ARR" />
          </div>
        </div>

        <button class="btn btn-primary" style="margin-top: 6px;" onclick="generateResearchPrompts()">
          ‚öôÔ∏è Generate Research Prompts
        </button>

        <div id="researchPrompts" style="display:none; margin-top:14px;">
          <h3>AI Research Prompts</h3>
          <p class="muted">Copy each prompt into ChatGPT/Claude, then paste the answers into Step 3 below.</p>

          <h4 style="margin-top:8px;">1. Company Intelligence</h4>
          <pre id="prompt1"></pre>
          <button class="btn btn-secondary" onclick="copyPrompt('prompt1')">üìã Copy Prompt 1</button>

          <h4 style="margin-top:10px;">2. Persona Intelligence</h4>
          <pre id="prompt2"></pre>
          <button class="btn btn-secondary" onclick="copyPrompt('prompt2')">üìã Copy Prompt 2</button>

          <h4 style="margin-top:10px;">3. Triggers & Angles</h4>
          <pre id="prompt3"></pre>
          <button class="btn btn-secondary" onclick="copyPrompt('prompt3')">üìã Copy Prompt 3</button>
        </div>

        <h3 style="margin-top:16px;">Step 3: Paste Research Summary</h3>
        <div class="form-group">
          <label>Research Summary (from AI)</label>
          <textarea id="researchResults" placeholder="Summarise the intel you got from the prompts above..."></textarea>
        </div>
        <button class="btn btn-primary" onclick="saveResearch()">üíæ Save Research</button>
      </div>
    </div>

    <!-- TAB: DISCOVERY -->
    <div class="tab-content" id="discovery">
      <div class="card">
        <h2>üìä Discovery Framework</h2>
        <p class="muted" style="margin-bottom:8px;">
          Turn your account intel into a structured discovery flow. You can regenerate this anytime as your research improves.
        </p>

        <div id="discoveryEmpty">
          <div class="status-message status-info">
            ‚ÑπÔ∏è Save Account Intel first, then click ‚ÄúGenerate Discovery Framework‚Äù.
          </div>
          <button id="generateDiscoveryBtn" class="btn btn-primary" onclick="generateDiscovery()" disabled>
            ‚öôÔ∏è Generate Discovery Framework
          </button>
        </div>

        <div id="discoveryGenerated" style="display:none;">
          <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:8px;">
            <button class="btn btn-secondary" onclick="regenerateDiscovery()">üîÅ Regenerate</button>
            <button class="btn btn-secondary" onclick="editDiscovery()">üìù Edit Notes</button>
            <button class="btn btn-primary" onclick="saveDiscovery()">üíæ Save Discovery Notes</button>
          </div>

          <div id="discoveryContent" style="margin-top:10px;"></div>

          <h3 style="margin-top:16px;">Your Discovery Notes</h3>
          <div class="form-group">
            <textarea id="customNotes" placeholder="Capture tweaks, killer questions, and specifics for this account..."></textarea>
          </div>
        </div>
      </div>
    </div>

    <!-- TAB: MESSAGING -->
    <div class="tab-content" id="messaging">
      <div class="card">
        <h2>‚úâÔ∏è Messaging & Scripts</h2>
        <p class="muted" style="margin-bottom:8px;">
          Use your intel and discovery notes to generate tailored messaging for email and LinkedIn.
        </p>

        <div id="messagingEmpty">
          <div class="status-message status-info">
            ‚ÑπÔ∏è Generate and save Discovery first, then click ‚ÄúGenerate Messaging‚Äù.
          </div>
          <button class="btn btn-primary" onclick="generateMessaging()">‚öôÔ∏è Generate Messaging</button>
        </div>

        <div id="messagingGenerated" style="display:none;">
          <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:8px;">
            <button class="btn btn-secondary" onclick="regenerateMessaging()">üîÅ Regenerate</button>
            <button class="btn btn-primary" onclick="saveMessaging()">üíæ Save Messaging</button>
          </div>

          <div style="margin-bottom:10px;font-size:0.82rem;color:#9ca3af;">
            <strong>Context:</strong>
            <span id="msg-company">[Company]</span> ‚Äì
            <span id="msg-persona">[Persona]</span> ‚Äì
            Trigger: <span id="msg-trigger">[Trigger]</span> ‚Äì
            Challenges: <span id="msg-challenges">[Challenges]</span> ‚Äì
            You: <span id="msg-yourcompany">[Your Company]</span>
          </div>

          <div id="messagingContent"></div>
        </div>
      </div>
    </div>

    <!-- TAB: RESULTS -->
    <div class="tab-content" id="results">
      <div class="card">
        <h2>üìà Results Tracker</h2>
        <p class="muted">
          Placeholder space for logging outcomes: replies, meetings booked, learnings by ICP, etc.
          You can extend this later with a simple table or CSV export.
        </p>
      </div>
    </div>
  </div>

  <script>
    // -----------------------------
    // Challenge Library by Persona
    // -----------------------------
    const challengeLibrary = {
      "Founder/CEO": [
        "Manual reporting / dashboards stitched together in sheets",
        "No clear Vision, Mission, Quarterly Priorities to direct GTM",
        "Founder-led sales with low repeatability (team can't close without founder)",
        "No unified pipeline inspection rhythm",
        "Weak ICP definition ‚Üí spray & pray GTM",
        "Inconsistent forecasting ‚Üí board friction",
        "Siloed systems (HubSpot, Intercom, Zendesk) with no single source of truth",
        "Can't answer 'What's pipeline coverage?' or 'What's win rate by segment?'",
        "Burning cash on underperforming sales reps (6+ month ramp)",
        "High customer churn but no structured win/loss analysis",
        "No compensation or quota model aligned to capacity",
        "Pricing and packaging decisions made in isolation (product vs GTM disconnect)"
      ],
      "VP/Head of Sales": [
        "No defined sales process or playbook (everyone sells differently)",
        "Inconsistent pipeline hygiene ‚Üí inaccurate forecasts",
        "Reps miss quota but no clear performance diagnostics",
        "No territory or account segmentation model",
        "Deal reviews are ad-hoc firefighting, not structured coaching",
        "Sales tools disconnected (CRM, outreach, CS handoff broken)",
        "Unclear stage definitions ‚Üí deals stall in 'Demo' or 'Proposal' for weeks",
        "No capacity planning ‚Üí can't answer 'Do we need 5 or 10 reps next year?'",
        "Comp plans misaligned with business goals (reps gaming metrics)",
        "No competitive intelligence or battle cards",
        "Poor sales-to-CS handoff ‚Üí early churn",
        "Manual reporting consumes 10+ hours/week of manager time"
      ],
      "Head of RevOps": [
        "Tech stack is a mess (data silos, duplicate records, poor integration)",
        "No single source of truth for pipeline or revenue metrics",
        "Systems admin work consumes 80% of time (no strategic bandwidth)",
        "No automated reporting or dashboards for exec team",
        "Stage progression analysis doesn't exist (don't know where deals die)",
        "Lead routing and assignment logic is manual or broken",
        "No lead scoring or qualification framework",
        "Attribution modeling is nonexistent (marketing ROI unknown)",
        "Forecasting method is 'gut feel' + spreadsheet",
        "No RevOps documentation or runbooks",
        "Cross-functional alignment missing (sales, marketing, CS work in silos)",
        "Can't scale current systems/processes to 2x team size"
      ],
      "Head of Customer Success": [
        "No structured onboarding process ‚Üí early churn",
        "Reactive firefighting instead of proactive account management",
        "Churn analysis is anecdotal, not data-driven",
        "No expansion playbook or upsell process",
        "Health scores don't exist or aren't actionable",
        "Sales-to-CS handoff is chaotic (context lost)",
        "Can't predict which accounts will churn next quarter",
        "No NRR tracking or expansion metrics visibility",
        "CS team underwater (too many accounts per CSM)",
        "Product usage data disconnected from CS workflow",
        "QBRs are manual PowerPoint exercises (not automated)",
        "Renewals surprise us instead of being planned"
      ]
    };

    // Get all challenges as flat list for generic persona
    function getAllChallenges() {
      const allChallenges = new Set();
      Object.values(challengeLibrary).forEach(challenges => {
        challenges.forEach(c => allChallenges.add(c));
      });
      return Array.from(allChallenges);
    }

    // -----------------------------
    // Global state
    // -----------------------------
    let accountData = {
      yourCompany: "",
      problemsSolved: "",
      targetPersonas: "",
      company: "",
      persona: "",
      industry: "",
      size: "",
      research: "",
      discoveryNotes: "",
      messaging: "",
      discovery: false,
      messagingCreated: false
    };

    // -----------------------------
    // Tab switching & progress
    // -----------------------------
    function switchTab(tabId) {
      document.querySelectorAll(".tab-content").forEach(el =>
        el.classList.remove("active")
      );
      const target = document.getElementById(tabId);
      if (target) target.classList.add("active");

      document.querySelectorAll(".tab").forEach(btn =>
        btn.classList.remove("active")
      );
      const btn = document.querySelector('.tab[data-tab="' + tabId + '"]');
      if (btn) btn.classList.add("active");
    }

    function updateProgress() {
      const steps = [
        !!accountData.research,
        !!accountData.discovery,
        !!accountData.messagingCreated
      ];
      const completed = steps.filter(Boolean).length;
      const pct = (completed / 3) * 100;

      const bar = document.getElementById("progressFill");
      if (bar) bar.style.width = pct + "%";

      const intelTab = document.querySelector('[data-tab="account-intel"]');
      const discTab  = document.querySelector('[data-tab="discovery"]');
      const msgTab   = document.querySelector('[data-tab="messaging"]');

      if (intelTab) intelTab.classList.toggle("completed", !!accountData.research);
      if (discTab)  discTab.classList.toggle("completed", !!accountData.discovery);
      if (msgTab)   msgTab.classList.toggle("completed", !!accountData.messagingCreated);
    }

    // -----------------------------
    // Account Intel ‚Äì Research Prompts
    // -----------------------------
    function generateResearchPrompts() {
      const yourCompanyEl      = document.getElementById("yourCompany");
      const problemsSolvedEl   = document.getElementById("problemsSolved");
      const yourTargetPersonas = document.getElementById("yourTargetPersonas");
      const companyEl          = document.getElementById("companyName");
      const personaEl          = document.getElementById("targetPersona");
      const industryEl         = document.getElementById("industry");
      const sizeEl             = document.getElementById("companySize");

      const yourCompany  = yourCompanyEl ? yourCompanyEl.value.trim() : "";
      const problems     = problemsSolvedEl ? problemsSolvedEl.value.trim() : "";
      const personas     = yourTargetPersonas ? yourTargetPersonas.value.trim() : "";
      const company      = companyEl ? companyEl.value.trim() : "";
      const persona      = personaEl ? personaEl.value.trim() : "";
      const industry     = industryEl ? industryEl.value.trim() : "";
      const size         = sizeEl ? sizeEl.value.trim() : "";

      if (!yourCompany || !problems) {
        alert("‚ö†Ô∏è Please fill in 'Your Company' and 'Problems You Solve' first.");
        return;
      }
      if (!company || !persona) {
        alert("‚ö†Ô∏è Please enter target Company Name and Persona.");
        return;
      }

      accountData.yourCompany    = yourCompany;
      accountData.problemsSolved = problems;
      accountData.targetPersonas = personas;
      accountData.company        = company;
      accountData.persona        = persona;
      accountData.industry       = industry;
      accountData.size           = size;

      const p1 = [
        `You are a research assistant. Build a concise "Company Intelligence" brief for ${company}.`,
        "",
        "Include:",
        "- What they do (1‚Äì2 sentences)",
        "- Who they sell to",
        "- Key products or offerings",
        "- Recent funding or major announcements (last 12‚Äì18 months)",
        "- Growth signals (hiring, expansion, product launches)",
        "",
        `Context: We (${yourCompany}) solve:`,
        problems
      ].join("\\n");

      const p2 = [
        `You are a GTM strategist. Build a "Persona Intelligence" brief for the ${persona} at a ${size || "mid-sized"} ${industry || "B2B"} company like ${company}.`,
        "",
        "Include:",
        "- Typical responsibilities and KPIs",
        "- Reporting line (who they report to / who reports to them)",
        "- How they think about revenue, risk and efficiency",
        "- What would cause them to look for help from a partner like us",
        "",
        "Keep it practical and bulleted."
      ].join("\\n");

      const p3 = [
        "You are an outbound strategist.",
        "",
        `Using the previous company & persona research for ${company} (${persona}),`,
        "create:",
        "- 3‚Äì5 specific triggers or events that make outreach timely",
        "- 3‚Äì5 tailored opener angles tied to those triggers",
        "- 3 personalised subject lines for an email",
        "",
        `Context about our offer: ${yourCompany} helps funded B2B SaaS/tech startups fix GTM focus and revenue operations.`,
        "Output in short bullets I can paste into my notes."
      ].join("\\n");

      const prompt1El = document.getElementById("prompt1");
      const prompt2El = document.getElementById("prompt2");
      const prompt3El = document.getElementById("prompt3");

      if (prompt1El) prompt1El.textContent = p1;
      if (prompt2El) prompt2El.textContent = p2;
      if (prompt3El) prompt3El.textContent = p3;

      const promptsBox = document.getElementById("researchPrompts");
      if (promptsBox) promptsBox.style.display = "block";

      const status = document.getElementById("intelStatus");
      if (status) {
        status.className = "status-message status-warning";
        status.textContent = "‚ö†Ô∏è Copy prompts ‚Üí Run in ChatGPT/Claude ‚Üí Paste results into Step 3 below.";
      }
    }

    function copyPrompt(promptId) {
      const el = document.getElementById(promptId);
      if (!el) return;
      const text = el.textContent || el.innerText || "";
      if (!text.trim()) return;

      navigator.clipboard.writeText(text)
        .then(() => alert("‚úÖ Prompt copied to clipboard."))
        .catch(() => alert("‚ö†Ô∏è Could not copy. Please select and copy manually."));
    }

    function saveResearch() {
      const resultsEl = document.getElementById("researchResults");
      if (!resultsEl) return;
      const val = resultsEl.value.trim();
      if (!val) {
        alert("‚ö†Ô∏è Paste your AI research results before saving.");
        return;
      }

      accountData.research = val;

      const btn = document.getElementById("generateDiscoveryBtn");
      if (btn) btn.disabled = false;

      const status = document.getElementById("intelStatus");
      if (status) {
        status.className = "status-message status-success";
        status.textContent = "‚úÖ Research saved. You can now generate the Discovery Framework.";
      }

      updateProgress();
    }

    // -----------------------------
    // Discovery Framework
    // -----------------------------
    function generateDiscovery() {
      if (!accountData.research) {
        alert("‚ö†Ô∏è Save research first.");
        return;
      }

      const empty = document.getElementById("discoveryEmpty");
      const gen   = document.getElementById("discoveryGenerated");
      if (empty) empty.style.display = "none";
      if (gen)   gen.style.display   = "block";

      const contentEl = document.getElementById("discoveryContent");
      if (!contentEl) return;

      const company = accountData.company || "[Target Company]";
      const persona = accountData.persona || "[Target Persona]";
      const yourCo  = accountData.yourCompany || "[Your Company]";

      // Determine which challenges to show based on persona
      let relevantChallenges = [];
      const personaLower = persona.toLowerCase();
      
      if (personaLower.includes("founder") || personaLower.includes("ceo")) {
        relevantChallenges = challengeLibrary["Founder/CEO"];
      } else if (personaLower.includes("vp") || personaLower.includes("head of sales") || personaLower.includes("cro")) {
        relevantChallenges = challengeLibrary["VP/Head of Sales"];
      } else if (personaLower.includes("revops") || personaLower.includes("revenue operations") || personaLower.includes("head of ops")) {
        relevantChallenges = challengeLibrary["Head of RevOps"];
      } else if (personaLower.includes("customer success") || personaLower.includes("cs") || personaLower.includes("head of customers")) {
        relevantChallenges = challengeLibrary["Head of Customer Success"];
      } else {
        relevantChallenges = getAllChallenges();
      }

      const challengeHTML = relevantChallenges.map((challenge, idx) => `
        <label style="display: flex; align-items: flex-start; gap: 8px; padding: 10px; border-radius: 8px; background: rgba(15, 23, 42, 0.6); border: 1px solid rgba(55, 65, 81, 0.5); cursor: pointer; transition: all 0.2s ease;" 
               onmouseover="this.style.background='rgba(37, 99, 235, 0.1)'; this.style.borderColor='rgba(96, 165, 250, 0.6)'" 
               onmouseout="this.style.background='rgba(15, 23, 42, 0.6)'; this.style.borderColor='rgba(55, 65, 81, 0.5)'">
          <input type="checkbox" id="challenge-${idx}" style="margin-top: 2px; width: 16px; height: 16px; flex-shrink: 0;" />
          <span style="font-size: 0.85rem; line-height: 1.4; color: #e5e7eb;">${challenge}</span>
        </label>
      `).join("");

      const html = `
        <div class="discovery-section">
          <h3>1Ô∏è‚É£ Current State Challenges ‚Äì ${persona}</h3>
          <p style="color:#94a3b8; margin-bottom:12px;">
            Select or refine the 4‚Äì6 most likely challenges this ${persona} is facing:
          </p>
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 8px; margin: 12px 0;">
            ${challengeHTML}
          </div>
        </div>

        <div class="discovery-section" style="margin-top:12px;">
          <h3>2Ô∏è‚É£ Context & Trigger Events ‚Äì ${company}</h3>
          <p style="color:#94a3b8; margin-bottom:12px;">What's happening now that makes this timely?</p>
          <ul>
            <li>Where are they in their funding / growth journey?</li>
            <li>What recent events signal they need help? (hiring, product launch, board pressure, etc.)</li>
            <li>What is top-of-mind for ${persona} right now based on your research?</li>
          </ul>
        </div>

        <div class="discovery-section" style="margin-top:12px;">
          <h3>3Ô∏è‚É£ Discovery Questions</h3>
          <p style="color:#94a3b8; margin-bottom:8px;"><strong>Vision & Strategy:</strong></p>
          <ul>
            <li>What's your vision for GTM in the next 12-18 months?</li>
            <li>How do you define success for your ${persona} role?</li>
            <li>What keeps you up at night about hitting your revenue targets?</li>
          </ul>
          <p style="color:#94a3b8; margin-top:12px; margin-bottom:8px;"><strong>Current State:</strong></p>
          <ul>
            <li>Walk me through your current sales process from lead to close.</li>
            <li>How do you forecast? Who owns the forecast?</li>
            <li>What tools/systems do you use today? Where do they break?</li>
          </ul>
          <p style="color:#94a3b8; margin-top:12px; margin-bottom:8px;"><strong>Pain Points:</strong></p>
          <ul>
            <li>Where do deals typically stall or die?</li>
            <li>How consistent is performance across your team?</li>
            <li>What's your biggest operational bottleneck right now?</li>
          </ul>
          <p style="color:#94a3b8; margin-top:12px; margin-bottom:8px;"><strong>Decision Process:</strong></p>
          <ul>
            <li>Who else needs to be involved in fixing this?</li>
            <li>What's driving urgency? (Board pressure, funding milestone, etc.)</li>
            <li>What's the cost of not solving this in the next 6 months?</li>
          </ul>
          <p style="color:#94a3b8; margin-top:12px; margin-bottom:8px;"><strong>Success Criteria:</strong></p>
          <ul>
            <li>What does 'fixed' look like 90 days from now?</li>
            <li>What metrics matter most to you and your board?</li>
            <li>How will you measure ROI on fixing GTM operations?</li>
          </ul>
        </div>

        <div class="discovery-section" style="margin-top:12px;">
          <h3>4Ô∏è‚É£ Qualification (MEDDICC)</h3>
          <ul>
            <li><strong>Metrics:</strong> ARR growth target, pipeline coverage, win rate, sales cycle length</li>
            <li><strong>Economic Buyer:</strong> ${persona} (confirm budget authority)</li>
            <li><strong>Decision Criteria:</strong> Speed to value, no big hiring commitment, investor-ready frameworks</li>
            <li><strong>Decision Process:</strong> Who reviews? Timeline? Other vendors considered?</li>
            <li><strong>Identify Pain:</strong> Which of the selected challenges above is most urgent?</li>
            <li><strong>Champion:</strong> Who internally will advocate for change?</li>
            <li><strong>Competition:</strong> Status quo, hiring VP Sales/CRO, DIY spreadsheets</li>
          </ul>
        </div>

        <div class="discovery-section" style="margin-top:12px;">
          <h3>5Ô∏è‚É£ Next Steps</h3>
          <ul>
            <li>‚òê Schedule discovery call (30-45 min)</li>
            <li>‚òê Share discovery prep doc with champion</li>
            <li>‚òê Review tech stack access (CRM, data sources)</li>
            <li>‚òê Align on success metrics</li>
            <li>‚òê Propose pilot scope (4-6 week engagement)</li>
          </ul>
        </div>
      `;

      contentEl.innerHTML = html;
      accountData.discovery = true;
      updateProgress();
    }


    function regenerateDiscovery() {
      generateDiscovery();
    }

    function editDiscovery() {
      alert("üìù Edit mode is lightweight: update the text directly in the Discovery notes and content above.");
    }

    function saveDiscovery() {
      const notesEl = document.getElementById("customNotes");
      if (notesEl) {
        accountData.discoveryNotes = notesEl.value.trim();
      }
      alert("‚úÖ Discovery notes saved.");
    }

    // -----------------------------
    // Messaging & Scripts
    // -----------------------------
    function generateMessaging() {
      if (!accountData.discovery) {
        alert("‚ö†Ô∏è Generate the Discovery Framework first.");
        return;
      }

      const empty = document.getElementById("messagingEmpty");
      const gen   = document.getElementById("messagingGenerated");
      if (empty) empty.style.display = "none";
      if (gen)   gen.style.display   = "block";

      const msgCo  = document.getElementById("msg-company");
      const msgPer = document.getElementById("msg-persona");
      const msgTr  = document.getElementById("msg-trigger");
      const msgCh  = document.getElementById("msg-challenges");
      const msgYC  = document.getElementById("msg-yourcompany");

      if (msgCo) msgCo.textContent  = accountData.company || "[Target Company]";
      if (msgPer) msgPer.textContent = accountData.persona || "[Target Persona]";
      if (msgTr) msgTr.textContent  = accountData.trigger || "Key GTM/RevOps pain from discovery";
      if (msgCh) msgCh.textContent  = "Top 2‚Äì3 pains from discovery notes";
      if (msgYC) msgYC.textContent  = accountData.yourCompany || "[Your Company]";

      const wrapper = document.getElementById("messagingContent");
      if (!wrapper) return;

      const company = accountData.company || "[Company]";
      const persona = accountData.persona || "[Persona]";
      const yourCo  = accountData.yourCompany || "[Your Company]";

      const messages = [
        {
          type: "Email Step 1 ‚Äì Trigger Opener",
          id: "msg-body-0",
          subject: `${company} & GTM / RevOps focus`,
          body: `Hi {{first_name}},

Noticed ${company} is in a critical growth phase and likely juggling pipeline, forecasting and GTM execution.

I speak with a lot of ${persona}s who are trying to:
- Get a cleaner, more predictable view of revenue
- Align sales, marketing and CS around a single plan
- Tighten forecasting before the next funding / board cycle

At ${yourCo}, we help funded B2B startups put a simple operating system around revenue ‚Äì without hiring a full-time RevOps leader.

Worth a 20‚Äì30 minute chat to compare notes?`
        },
        {
          type: "Email Step 2 ‚Äì Value / Insight",
          id: "msg-body-1",
          subject: "How others tackled GTM chaos before scaling",
          body: `Hi {{first_name}},

Following up as this keeps coming up with revenue leaders:

Teams moving from founder-led to repeatable GTM usually need to:
- Agree a clear ICP & territory model
- Standardise pipeline stages and deal hygiene
- Align comp, scorecards and rituals around a small set of metrics

This is exactly where ${yourCo} helps founders and GTM leaders.

Happy to share a simple template we use with similar companies to bring this to life ‚Äì no hard pitch.`
        },
        {
          type: "LinkedIn DM ‚Äì Soft Touch",
          id: "msg-body-2",
          subject: "",
          body: `Hi {{first_name}} ‚Äì love what you're building at ${company}.

I help founders and GTM leaders in funded B2B startups put more structure around revenue (ICP, territories, scorecards, L10s, comp) before they scale teams.

If you're ever mapping out ‚Äúwhat good looks like‚Äù for RevOps / GTM ops at ${company}, happy to share a few patterns from similar stages.`
        }
      ];

      const htmlMsg = messages.map((m, i) => `
        <div class="message-card">
          <div class="message-header">
            <strong>${m.type}</strong>
            ${m.subject ? `<span class="message-subject">${m.subject}</span>` : ""}
          </div>
          <pre id="${m.id}" class="message-body">${m.body}</pre>
          <button class="btn btn-secondary" onclick="copyMessage(${i})">üìã Copy</button>
        </div>
      `).join("");

      wrapper.innerHTML = htmlMsg;

      accountData.messaging = messages;
      accountData.messagingCreated = true;
      updateProgress();
    }

    function regenerateMessaging() {
      generateMessaging();
    }

    function saveMessaging() {
      alert("‚úÖ Messaging saved (content remains on this page; you can also paste it into your outreach tools).");
    }

    function copyMessage(index) {
      const id = "msg-body-" + index;
      const el = document.getElementById(id);
      if (!el) return;
      const text = el.textContent || el.innerText || "";
      if (!text.trim()) return;

      navigator.clipboard.writeText(text)
        .then(() => alert("‚úÖ Message copied to clipboard."))
        .catch(() => alert("‚ö†Ô∏è Could not copy. Please select and copy manually."));
    }

    // -----------------------------
    // ICP Builder ‚Äì Save / Load / Reset + Accordion
    // -----------------------------
    const ICP_STORAGE_KEY = "bearops_icp";

    function getICPElements() {
      return {
        snapshot:       document.getElementById("icp-snapshot"),
        metaCoreBuyer:  document.getElementById("icp-meta-coreBuyer"),
        metaOrgType:    document.getElementById("icp-meta-orgType"),
        metaSize:       document.getElementById("icp-meta-size"),
        metaEngagement: document.getElementById("icp-meta-engagement"),
        firmo:          document.getElementById("icp-firmo"),
        firmoExtra:     document.getElementById("icp-firmo-extra"),
        tiers:          document.getElementById("icp-tiers"),
        techno:         document.getElementById("icp-techno"),
        technoExtra:    document.getElementById("icp-techno-extra"),
        technoNotes:    document.getElementById("icp-techno-notes"),
        triggers:       document.getElementById("icp-triggers"),
        triggersExtra:  document.getElementById("icp-triggers-extra"),
        triggerTags:    document.getElementById("icp-trigger-tags"),
        disqual:        document.getElementById("icp-disqual"),
        disqualExtra:   document.getElementById("icp-disqual-extra"),
        disqualNotes:   document.getElementById("icp-disqual-notes"),
        logos:          document.getElementById("icp-logos"),
        logosExtra:     document.getElementById("icp-logos-extra"),
        logosNotes:     document.getElementById("icp-logos-notes")
      };
    }

    function readICPFromDOM() {
      const el = getICPElements();
      const model = {};
      Object.keys(el).forEach(key => {
        if (el[key]) model[key] = el[key].innerHTML;
      });
      return model;
    }

    function applyICPToDOM(model) {
      const el = getICPElements();
      Object.keys(el).forEach(key => {
        if (el[key] && model[key] !== undefined) {
          el[key].innerHTML = model[key];
        }
      });
    }

    function saveICP() {
      try {
        const model = readICPFromDOM();
        localStorage.setItem(ICP_STORAGE_KEY, JSON.stringify(model));
        alert("üíæ ICP saved to this browser (bearops_icp).");
      } catch (e) {
        console.error("Failed to save ICP", e);
        alert("‚ö†Ô∏è Could not save ICP. Check console for details.");
      }
    }

    function loadICP() {
      try {
        const raw = localStorage.getItem(ICP_STORAGE_KEY);
        if (!raw) return;
        const model = JSON.parse(raw);
        if (model) applyICPToDOM(model);
      } catch (e) {
        console.warn("Failed to load ICP from storage", e);
      }
    }

    function resetICP() {
      if (!confirm("Reset ICP to the original template? This will overwrite saved changes.")) return;
      localStorage.removeItem(ICP_STORAGE_KEY);
      window.location.reload();
    }

    function setupICPAccordion() {
      document.querySelectorAll("#icpAccordion .accordion-header").forEach(header => {
        header.addEventListener("click", () => {
          const item = header.parentElement;
          const isOpen = item.classList.contains("open");
          document.querySelectorAll("#icpAccordion .accordion-item").forEach(i => i.classList.remove("open"));
          if (!isOpen) item.classList.add("open");
        });
      });
    }

    function copyICPPrompt(preId, btn) {
      const pre = document.getElementById(preId);
      if (!pre) return;

      const text = pre.textContent || pre.innerText || "";
      if (!text.trim()) return;

      navigator.clipboard.writeText(text)
        .then(() => {
          if (btn) {
            const original = btn.textContent;
            btn.textContent = "‚úÖ Copied";
            setTimeout(() => { btn.textContent = original; }, 1400);
          } else {
            alert("Prompt copied.");
          }
        })
        .catch(() => alert("‚ö†Ô∏è Could not copy ‚Äì please select and copy manually."));
    }

    // -----------------------------
    // Init
    // -----------------------------
    document.addEventListener("DOMContentLoaded", () => {
      const btnSaveICP  = document.getElementById("btnSaveICP");
      const btnResetICP = document.getElementById("btnResetICP");
      if (btnSaveICP)  btnSaveICP.addEventListener("click", saveICP);
      if (btnResetICP) btnResetICP.addEventListener("click", resetICP);

      setupICPAccordion();
      loadICP();
      updateProgress();
    });
  </script>
</body>
</html>
